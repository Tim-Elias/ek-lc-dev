{"ast":null,"code":"var _jsxFileName = \"/home/saint/ek 3.1/ek-lc-dev/src/screen/mutual.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport './mutual.css';\nimport { Table, Button } from 'semantic-ui-react';\nimport { get_data } from './../common/common_modules';\n\nclass Screen extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.tr_double_click = async order => {\n      this.props.set_active_window(\"wait\");\n      const data = {\n        userkey: this.props.store.login.userkey,\n        Key: order.Key\n      };\n      get_data('order', data).then(result => {\n        console.log(result);\n        this.props.set_order_data(result);\n        this.props.set_active_window(\"order\");\n        this.props.set_last_window(\"mutual\");\n      }, err => {\n        console.log(err);\n      });\n    };\n\n    this.tr_click = async index => {\n      this.props.set_mutual_active_row(index);\n    };\n\n    this.get_mutual = () => {\n      this.props.set_active_window(\"wait\");\n      const data = {\n        userkey: this.props.store.login.userkey,\n        mobile: false,\n        date_from: this.props.store.mutual.date_from,\n        date_to: this.props.store.mutual.date_to\n      };\n      console.log(data);\n      get_data('mutuallist', data).then(result => {\n        console.log(result);\n        this.props.set_data_mutual(result);\n        this.props.set_active_window(\"mutual\");\n      }, err => {\n        this.props.set_active_window(\"mutual\");\n        console.log(err); // this.props.set_mutual_error(err) \n      });\n    };\n  }\n\n  render() {\n    document.onkeydown = function (event) {};\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"my_disp_control_panel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }\n    }, \"\\u041F\\u0435\\u0440\\u0438\\u043E\\u0434:\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"pod_input\",\n      onChange: e => this.props.set_mutual_date_from(e.target.value),\n      value: this.props.store.mutual.date_from,\n      type: \"date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 26\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }\n    }, \"-\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"pod_input\",\n      onChange: e => this.props.set_mutual_date_to(e.target.value),\n      value: this.props.store.mutual.date_to,\n      type: \"date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 26\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      style: {\n        marginTop: '-5px'\n      },\n      onClick: this.get_mutual.bind(this),\n      size: \"mini\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 26\n      }\n    }, \"\\u041F\\u043E\\u043B\\u0443\\u0447\\u0438\\u0442\\u044C \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435\"))), this.props.store.mutual.data.length !== 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mutual_table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 63\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mutual_table_data\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      celled: true,\n      size: \"small\",\n      compact: \"very\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Table.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Table.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Table.HeaderCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 37\n      }\n    }, \"\\u0414\\u0430\\u0442\\u0430\"), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 37\n      }\n    }, \"\\u041D\\u043E\\u043C\\u0435\\u0440\"), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 37\n      }\n    }, \"\\u0417\\u0430\\u043A\\u0430\\u0437\\u0447\\u0438\\u043A\"), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 37\n      }\n    }, \"\\u0418\\u0441\\u043F\\u043E\\u043B\\u043D\\u0438\\u0442\\u0435\\u043B\\u044C\"), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 37\n      }\n    }, \"\\u0421\\u0443\\u043C\\u043C\\u0430\"))), /*#__PURE__*/React.createElement(Table.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 29\n      }\n    }, this.props.store.mutual.data.map((el, index) => {\n      let row_className = '';\n\n      if (index === this.props.store.mutual.active_row) {\n        row_className = 'active';\n      }\n\n      return /*#__PURE__*/React.createElement(Table.Row, {\n        className: row_className,\n        key: el.Key,\n        onClick: this.tr_click.bind(this, index),\n        onDoubleClick: this.tr_double_click.bind(this, el),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(Table.Cell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 45\n        }\n      }, el.Date), /*#__PURE__*/React.createElement(Table.Cell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 45\n        }\n      }, el.Number), /*#__PURE__*/React.createElement(Table.Cell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 45\n        }\n      }, el.Customer), /*#__PURE__*/React.createElement(Table.Cell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 45\n        }\n      }, el.Executor), /*#__PURE__*/React.createElement(Table.Cell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 45\n        }\n      }, el.Summ));\n    }))))) : null);\n  }\n\n}\n\n;\nexport default connect(state => ({\n  store: state\n}), dispatch => ({\n  set_active_window: param => {\n    dispatch({\n      type: 'set_active_window',\n      payload: param\n    });\n  },\n  set_data_mutual: param => {\n    dispatch({\n      type: 'set_data_mutual',\n      payload: param\n    });\n  },\n  set_mutual_error: param => {\n    dispatch({\n      type: 'set_mutual_error',\n      payload: param\n    });\n  },\n  set_mutual_active_row: param => {\n    dispatch({\n      type: 'set_mutual_active_row',\n      payload: param\n    });\n  },\n  set_mutual_date_from: param => {\n    dispatch({\n      type: 'set_mutual_date_from',\n      payload: param\n    });\n  },\n  set_mutual_date_to: param => {\n    dispatch({\n      type: 'set_mutual_date_to',\n      payload: param\n    });\n  },\n  set_order_data: param => {\n    dispatch({\n      type: 'set_order_data',\n      payload: param\n    });\n  },\n  set_last_window: param => {\n    dispatch({\n      type: 'set_last_window',\n      payload: param\n    });\n  }\n}))(Screen);","map":{"version":3,"sources":["/home/saint/ek 3.1/ek-lc-dev/src/screen/mutual.js"],"names":["React","connect","Table","Button","get_data","Screen","Component","tr_double_click","order","props","set_active_window","data","userkey","store","login","Key","then","result","console","log","set_order_data","set_last_window","err","tr_click","index","set_mutual_active_row","get_mutual","mobile","date_from","mutual","date_to","set_data_mutual","render","document","onkeydown","event","e","set_mutual_date_from","target","value","set_mutual_date_to","marginTop","bind","length","map","el","row_className","active_row","Date","Number","Customer","Executor","Summ","state","dispatch","param","type","payload","set_mutual_error"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\n\nimport './mutual.css'\nimport { Table, Button } from 'semantic-ui-react'\n\nimport { get_data } from './../common/common_modules'\n\n\n\nclass Screen extends React.Component {\n\n    tr_double_click = async (order) => {\n        this.props.set_active_window(\"wait\");\n\n        const data = {\n            userkey: this.props.store.login.userkey,\n            Key: order.Key\n        };\n\n        get_data('order', data).then(\n            (result) => {\n                console.log(result)\n                this.props.set_order_data(result);\n                this.props.set_active_window(\"order\");\n                this.props.set_last_window(\"mutual\");\n\n            },\n            (err) => { console.log(err) }\n        );\n\n\n    };\n\n    tr_click = async (index) => {\n        this.props.set_mutual_active_row(index)\n    }\n\n    get_mutual = () => {\n        this.props.set_active_window(\"wait\");\n        const data = {\n            userkey: this.props.store.login.userkey,\n            mobile: false,\n            date_from: this.props.store.mutual.date_from,\n            date_to: this.props.store.mutual.date_to,\n        }\n        console.log(data)\n        get_data('mutuallist', data).then(\n            (result) => {\n                console.log(result)\n                this.props.set_data_mutual(result);\n                this.props.set_active_window(\"mutual\");\n\n            },\n            (err) => {\n                this.props.set_active_window(\"mutual\");\n                console.log(err)\n                // this.props.set_mutual_error(err) \n            }\n        );\n\n    }\n\n    render() {\n        document.onkeydown = function (event) {}\n        return (\n\n            <div>\n\n                <div className=\"my_disp_control_panel\">\n                    <div>Период:</div>\n                    <div><input className=\"pod_input\" onChange={e => this.props.set_mutual_date_from(e.target.value)} value={this.props.store.mutual.date_from} type=\"date\"></input></div>\n                    <div>-</div>\n                    <div><input className=\"pod_input\" onChange={e => this.props.set_mutual_date_to(e.target.value)} value={this.props.store.mutual.date_to} type=\"date\"></input></div>\n                    <div><Button style={{ marginTop: '-5px' }} onClick={this.get_mutual.bind(this)} size='mini'>Получить данные</Button></div>\n                </div>\n                {/* <div>{this.props.store.mutual.error}</div> */}\n\n                {this.props.store.mutual.data.length !== 0 ? (<div className=\"mutual_table\">\n                    {/* <div className=\"mutual_int_label\">Счета за период:</div> */}\n                    <div className=\"mutual_table_data\">\n                        <Table celled size='small' compact='very'>\n                            <Table.Header>\n                                <Table.Row>\n                                    <Table.HeaderCell>Дата</Table.HeaderCell>\n                                    <Table.HeaderCell>Номер</Table.HeaderCell>\n                                    <Table.HeaderCell>Заказчик</Table.HeaderCell>\n                                    <Table.HeaderCell>Исполнитель</Table.HeaderCell>\n                                    <Table.HeaderCell>Сумма</Table.HeaderCell>\n\n\n\n                                </Table.Row>\n                            </Table.Header>\n                            <Table.Body>\n                                {this.props.store.mutual.data.map((el, index) => {\n                                    let row_className = ''\n\n                                    if (index === this.props.store.mutual.active_row) {\n                                        row_className = 'active'\n                                    }\n                                    return (\n                                        <Table.Row\n                                            className={row_className}\n                                            key={el.Key}\n                                            onClick={this.tr_click.bind(this, index)}\n                                            onDoubleClick={this.tr_double_click.bind(this, el)}\n                                        >\n                                            <Table.Cell>{el.Date}</Table.Cell>\n                                            <Table.Cell>{el.Number}</Table.Cell>\n                                            <Table.Cell>{el.Customer}</Table.Cell>\n                                            <Table.Cell>{el.Executor}</Table.Cell>\n                                            <Table.Cell>{el.Summ}</Table.Cell>\n                                        </Table.Row>\n                                    )\n                                }\n                                )}\n                            </Table.Body>\n                        </Table>\n                    </div>\n\n                </div>) : (null)}\n\n            </div>\n\n        );\n    }\n};\n\nexport default connect(\n    state => ({\n        store: state\n    }),\n    dispatch => ({\n        set_active_window: (param) => { dispatch({ type: 'set_active_window', payload: param }) },\n        set_data_mutual: (param) => { dispatch({ type: 'set_data_mutual', payload: param }) },\n        set_mutual_error: (param) => { dispatch({ type: 'set_mutual_error', payload: param }) },\n        set_mutual_active_row: (param) => { dispatch({ type: 'set_mutual_active_row', payload: param }) },\n        set_mutual_date_from: (param) => { dispatch({ type: 'set_mutual_date_from', payload: param }) },\n        set_mutual_date_to: (param) => { dispatch({ type: 'set_mutual_date_to', payload: param }) },\n        set_order_data: (param) => { dispatch({ type: 'set_order_data', payload: param }) },\n        set_last_window: (param) => { dispatch({ type: 'set_last_window', payload: param }) },\n    })\n)(Screen);"]},"metadata":{},"sourceType":"module"}