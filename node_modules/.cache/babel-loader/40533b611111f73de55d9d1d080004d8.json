{"ast":null,"code":"var _jsxFileName = \"/Users/elias/Documents/ek-lc-dev/src/screen/order.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { Table, Button, Icon, Modal, Loader, Dimmer } from 'semantic-ui-react';\nimport { get_data, get_file } from './../common/common_modules';\n\nclass Screen extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.tr_double_click = async disp => {\n      this.props.set_active_window(\"wait\");\n      const data = {\n        userkey: this.props.store.login.userkey,\n        status: \"Накладная\",\n        num: disp.Num\n      };\n      get_data('dispatch', data).then(result => {\n        this.props.set_data_disp(result);\n        this.props.set_active_window(\"disp\");\n        this.props.set_last_window(\"order\");\n      }, err => {\n        console.log(err);\n      });\n    };\n\n    this.back = () => {\n      const last_window = this.props.store.general.last_window[this.props.store.general.last_window.length - 1];\n      this.props.pop_last_window();\n      this.props.set_active_window(last_window);\n    };\n\n    this.get_order = () => {\n      get_file(this.props.store.login.userkey, 'order', this.props.store.order.data.Key, 'Счёт ' + this.props.store.order.data.Number + '.pdf');\n    };\n\n    this.get_act = () => {\n      get_file(this.props.store.login.userkey, 'act', this.props.store.order.data.Key, 'Акт ' + this.props.store.order.data.Number + '.pdf');\n    };\n\n    this.get_cf = () => {\n      get_file(this.props.store.login.userkey, 'cf', this.props.store.order.data.Key, 'СФ ' + this.props.store.order.data.Number + '.pdf');\n    };\n  }\n\n  render() {\n    document.onkeydown = function (event) {};\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"disp_Number\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(Button, {\n      compact: true,\n      icon: true,\n      onClick: this.back.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      name: \"arrow left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    })), React.createElement(\"b\", {\n      className: \"page_header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"\\u0420\\u0435\\u0430\\u043B\\u0438\\u0437\\u0430\\u0446\\u0438\\u044F \\u2116 \", this.props.store.order.data.Number, \" \\u043E\\u0442 \", this.props.store.order.data.Date), React.createElement(Button, {\n      onClick: this.get_order.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"\\u0421\\u0447\\u0451\\u0442\"), React.createElement(Button, {\n      onClick: this.get_act.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"\\u0410\\u043A\\u0442\"), this.props.store.order.data.VAT === 0 ? null : React.createElement(Button, {\n      onClick: this.get_cf.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"\\u0421\\u0447\\u0451\\u0442-\\u0444\\u0430\\u043A\\u0442\\u0443\\u0440\\u0430\"))), React.createElement(\"div\", {\n      className: \"disp_customer_data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"disp_data_label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"\\u0417\\u0430\\u043A\\u0430\\u0437\\u0447\\u0438\\u043A:\"), React.createElement(\"div\", {\n      className: \"disp_data_el\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, this.props.store.order.data.Customer), React.createElement(\"div\", {\n      className: \"disp_data_label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"\\u0418\\u0441\\u043F\\u043E\\u043B\\u043D\\u0438\\u0442\\u0435\\u043B\\u044C:\"), React.createElement(\"div\", {\n      className: \"disp_data_el\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, this.props.store.order.data.Executor)), this.props.store.order.data.UseNomenclature ? React.createElement(Table, {\n      celled: true,\n      size: \"small\",\n      compact: \"very\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(Table.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(Table.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(Table.HeaderCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"small_table_data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"\\u041D\\u0430\\u0438\\u043C\\u0435\\u043D\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\")), React.createElement(Table.HeaderCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"small_table_data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"\\u0421\\u0443\\u043C\\u043C\\u0430\")))), React.createElement(Table.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, this.props.store.order.nomenclature.map((el, index) => {\n      let row_className = ''; //   if (index === this.props.store.my_disp.active_row){\n      //     row_className = 'active'\n      //   } \n      //console.log(row_className)\n\n      return React.createElement(Table.Row, {\n        className: row_className,\n        key: index //onClick={this.tr_click.bind(this,index)}  \n        //onDoubleClick={this.tr_double_click.bind(this, el)}\n        ,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(Table.Cell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"small_table_data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, el.Name)), React.createElement(Table.Cell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"small_table_data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, el.Summ)));\n    }))) : React.createElement(Table, {\n      celled: true,\n      size: \"small\",\n      compact: \"very\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(Table.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(Table.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(Table.HeaderCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"small_table_data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"\\u0414\\u0430\\u0442\\u0430\")), React.createElement(Table.HeaderCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"small_table_data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"\\u041D\\u0430\\u043A\\u043B\\u0430\\u0434\\u043D\\u0430\\u044F\")), React.createElement(Table.HeaderCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"small_table_data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"\\u0413\\u043E\\u0440\\u043E\\u0434 \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u0435\\u043B\\u044F\")), React.createElement(Table.HeaderCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"small_table_data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"\\u0413\\u043E\\u0440\\u043E\\u0434 \\u043F\\u043E\\u043B\\u0443\\u0447\\u0430\\u0442\\u0435\\u043B\\u044F\")), React.createElement(Table.HeaderCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"small_table_data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"\\u041C\\u0435\\u0441\\u0442\")), React.createElement(Table.HeaderCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"small_table_data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"\\u0412\\u0435\\u0441\")), React.createElement(Table.HeaderCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"small_table_data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"\\u0412\\u0438\\u0434 \\u0434\\u043E\\u0441\\u0442\\u0430\\u0432\\u043A\\u0438\")), React.createElement(Table.HeaderCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"small_table_data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"\\u0421\\u0443\\u043C\\u043C\\u0430\")))), React.createElement(Table.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, this.props.store.order.dispatches.map((el, index) => {\n      let row_className = ''; //   if (index === this.props.store.my_disp.active_row){\n      //     row_className = 'active'\n      //   } \n      //console.log(row_className)\n\n      return React.createElement(Table.Row, {\n        className: row_className,\n        key: index //onClick={this.tr_click.bind(this,index)}  \n        ,\n        onDoubleClick: this.tr_double_click.bind(this, el),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(Table.Cell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"small_table_data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, el.Date)), React.createElement(Table.Cell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"small_table_data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, el.Num)), React.createElement(Table.Cell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"small_table_data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, el.SendCity)), React.createElement(Table.Cell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"small_table_data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, el.RecCity)), React.createElement(Table.Cell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"small_table_data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, el.Total)), React.createElement(Table.Cell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"small_table_data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, el.Weight)), React.createElement(Table.Cell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"small_table_data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, el.DelMethod)), React.createElement(Table.Cell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"small_table_data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, el.Summ)));\n    }))), React.createElement(\"div\", {\n      className: \"disp_customer_data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"disp_data_label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \"\\u0418\\u0442\\u043E\\u0433\\u043E:\"), React.createElement(\"div\", {\n      className: \"disp_data_el\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, this.props.store.order.data.Summ), this.props.store.order.data.SummVAT === '' ? null : React.createElement(\"div\", {\n      className: \"disp_data_label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"\\u0412 \\u0442\\u043E\\u043C \\u0447\\u0438\\u0441\\u043B\\u0435 \\u041D\\u0414\\u0421:\"), this.props.store.order.data.SummVAT === '' ? null : React.createElement(\"div\", {\n      className: \"disp_data_el\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, this.props.store.order.data.SummVAT)));\n  }\n\n}\n\nexport default connect(state => ({\n  store: state\n}), dispatch => ({\n  set_list_storage: param => {\n    dispatch({\n      type: 'set_list_storage',\n      payload: param\n    });\n  },\n  set_active_window: param => {\n    dispatch({\n      type: 'set_active_window',\n      payload: param\n    });\n  },\n  set_data_disp: param => {\n    dispatch({\n      type: 'set_data_disp',\n      payload: param\n    });\n  },\n  set_last_window: param => {\n    dispatch({\n      type: 'set_last_window',\n      payload: param\n    });\n  },\n  pop_last_window: () => {\n    dispatch({\n      type: 'pop_last_window'\n    });\n  }\n}))(Screen);","map":{"version":3,"sources":["/Users/elias/Documents/ek-lc-dev/src/screen/order.js"],"names":["React","connect","Table","Button","Icon","Modal","Loader","Dimmer","get_data","get_file","Screen","Component","tr_double_click","disp","props","set_active_window","data","userkey","store","login","status","num","Num","then","result","set_data_disp","set_last_window","err","console","log","back","last_window","general","length","pop_last_window","get_order","order","Key","Number","get_act","get_cf","render","document","onkeydown","event","bind","Date","VAT","Customer","Executor","UseNomenclature","nomenclature","map","el","index","row_className","Name","Summ","dispatches","SendCity","RecCity","Total","Weight","DelMethod","SummVAT","state","dispatch","set_list_storage","param","type","payload"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport { Table, Button, Icon, Modal, Loader, Dimmer } from 'semantic-ui-react'\nimport { get_data, get_file } from './../common/common_modules'\n\nclass Screen extends React.Component {\n\n    tr_double_click = async (disp) => {\n        this.props.set_active_window(\"wait\");\n    \n        const data = {\n          userkey: this.props.store.login.userkey,\n          status: \"Накладная\",\n          num: disp.Num\n        };\n    \n        get_data('dispatch', data).then(\n          (result) => {\n            \n            this.props.set_data_disp(result);\n            this.props.set_active_window(\"disp\");\n            this.props.set_last_window(\"order\");\n            \n          },\n          (err) => { console.log(err) }\n        );\n    \n    \n      };\n\n    back = () => {\n\n        const last_window = this.props.store.general.last_window[this.props.store.general.last_window.length -1]\n        this.props.pop_last_window();\n        this.props.set_active_window(last_window);\n    }\n\n    get_order = () => {       \n        get_file(this.props.store.login.userkey,'order',this.props.store.order.data.Key,'Счёт '+this.props.store.order.data.Number+'.pdf')\n    }\n\n    get_act = () => {\n        get_file(this.props.store.login.userkey,'act',this.props.store.order.data.Key,'Акт '+this.props.store.order.data.Number+'.pdf')\n    }\n\n    get_cf = () => {\n        get_file(this.props.store.login.userkey,'cf',this.props.store.order.data.Key,'СФ '+this.props.store.order.data.Number+'.pdf')\n    }\n\n    render() {\n      document.onkeydown = function (event) {}\n        return (\n          \n        <div>\n           <div className=\"disp_Number\">\n                <div><Button compact icon onClick={this.back.bind(this)}>\n                        <Icon name='arrow left' />\n                    </Button>  \n                    <b className='page_header'>Реализация № {this.props.store.order.data.Number} от {this.props.store.order.data.Date}</b>\n                    <Button onClick={this.get_order.bind(this)} >Счёт</Button>\n                    <Button onClick={this.get_act.bind(this)} >Акт</Button>\n                    {this.props.store.order.data.VAT === 0 ? (null):(<Button onClick={this.get_cf.bind(this)} >Счёт-фактура</Button>)}\n                </div>\n            </div>\n            <div className=\"disp_customer_data\">\n                    <div className=\"disp_data_label\">Заказчик:</div>\n                    <div className=\"disp_data_el\">{this.props.store.order.data.Customer}</div>\n                    <div className=\"disp_data_label\">Исполнитель:</div>\n                    <div className=\"disp_data_el\">{this.props.store.order.data.Executor}</div>\n            </div>\n            {this.props.store.order.data.UseNomenclature ? (\n                <Table celled size='small' compact='very'>\n                <Table.Header>\n              <Table.Row>\n              <Table.HeaderCell><div className='small_table_data'>Наименование</div></Table.HeaderCell>\n                <Table.HeaderCell><div className='small_table_data'>Сумма</div></Table.HeaderCell>\n           </Table.Row>\n            </Table.Header>\n            <Table.Body>\n            {this.props.store.order.nomenclature.map((el,index)=>\n              {\n                let row_className = ''\n                \n              //   if (index === this.props.store.my_disp.active_row){\n              //     row_className = 'active'\n              //   } \n  \n                //console.log(row_className)\n                return (\n                <Table.Row \n                  className={row_className} \n                  key={index} \n                  //onClick={this.tr_click.bind(this,index)}  \n                  //onDoubleClick={this.tr_double_click.bind(this, el)}\n                >\n                  <Table.Cell><div className='small_table_data'>{el.Name}</div></Table.Cell>\n                  <Table.Cell><div className='small_table_data'>{el.Summ}</div></Table.Cell>\n  \n                </Table.Row>)}\n            )}\n            </Table.Body>\n              </Table>\n            ):(\n            <Table celled size='small' compact='very'>\n              <Table.Header>\n            <Table.Row>\n            <Table.HeaderCell><div className='small_table_data'>Дата</div></Table.HeaderCell>\n              <Table.HeaderCell><div className='small_table_data'>Накладная</div></Table.HeaderCell>\n              <Table.HeaderCell><div className='small_table_data'>Город отправителя</div></Table.HeaderCell>\n              <Table.HeaderCell><div className='small_table_data'>Город получателя</div></Table.HeaderCell>\n            <Table.HeaderCell><div className='small_table_data'>Мест</div></Table.HeaderCell>\n              <Table.HeaderCell><div className='small_table_data'>Вес</div></Table.HeaderCell>\n              <Table.HeaderCell><div className='small_table_data'>Вид доставки</div></Table.HeaderCell>\n              <Table.HeaderCell><div className='small_table_data'>Сумма</div></Table.HeaderCell>\n\n              \n            </Table.Row>\n          </Table.Header>\n          <Table.Body>\n          {this.props.store.order.dispatches.map((el,index)=>\n            {\n              let row_className = ''\n              \n            //   if (index === this.props.store.my_disp.active_row){\n            //     row_className = 'active'\n            //   } \n\n              //console.log(row_className)\n              return (\n              <Table.Row \n                className={row_className} \n                key={index} \n                //onClick={this.tr_click.bind(this,index)}  \n                onDoubleClick={this.tr_double_click.bind(this, el)}\n              >\n                <Table.Cell><div className='small_table_data'>{el.Date}</div></Table.Cell>\n                <Table.Cell><div className='small_table_data'>{el.Num}</div></Table.Cell>\n                <Table.Cell><div className='small_table_data'>{el.SendCity}</div></Table.Cell>\n                <Table.Cell><div className='small_table_data'>{el.RecCity}</div></Table.Cell>\n\n                <Table.Cell><div className='small_table_data'>{el.Total}</div></Table.Cell>\n                <Table.Cell><div className='small_table_data'>{el.Weight}</div></Table.Cell>\n\n                <Table.Cell><div className='small_table_data'>{el.DelMethod}</div></Table.Cell>\n                <Table.Cell><div className='small_table_data'>{el.Summ}</div></Table.Cell>\n\n              </Table.Row>)}\n          )}\n          </Table.Body>\n            </Table>)}\n            \n            <div className=\"disp_customer_data\">\n                    <div className=\"disp_data_label\">Итого:</div>\n                    <div className=\"disp_data_el\">{this.props.store.order.data.Summ}</div>\n                    {this.props.store.order.data.SummVAT === '' ? (null):(\n                        <div className=\"disp_data_label\">В том числе НДС:</div>\n                    )}\n                    {this.props.store.order.data.SummVAT === '' ? (null):(\n                        <div className=\"disp_data_el\">{this.props.store.order.data.SummVAT}</div>  \n                    )}\n                    \n                    \n            </div>\n\n            \n        </div>)\n    }\n}\n\nexport default connect(\n    state => ({\n        store: state\n    }),\n    dispatch => ({\n        set_list_storage: (param) => { dispatch({ type: 'set_list_storage', payload: param }) },\n        set_active_window: (param) => { dispatch({ type: 'set_active_window', payload: param }) },\n        set_data_disp: (param) => { dispatch({ type: 'set_data_disp', payload: param }) },\n        set_last_window: (param) => { dispatch({ type: 'set_last_window', payload: param }) },\n        pop_last_window: () => { dispatch({ type: 'pop_last_window'}) },\n    })\n)(Screen);"]},"metadata":{},"sourceType":"module"}