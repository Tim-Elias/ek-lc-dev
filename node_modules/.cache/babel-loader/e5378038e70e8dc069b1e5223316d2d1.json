{"ast":null,"code":"var _jsxFileName = \"/home/saint/ek 3.1/ek-lc-dev/src/home_container.js\";\nimport './App.css';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { get_data } from './common/common_modules';\nimport Header from './screen/components/header';\nimport Footer from './screen/components/footer';\nimport LeftMenu from './screen/components/leftmenu';\nimport Content from './screen/content';\nimport { withCookies } from 'react-cookie';\nimport MContent from './m_screen/m_content';\nimport MLogin from './m_screen/m_login';\n\nclass Screen extends Component {\n  render() {\n    if (!this.props.store.login.logged) {\n      const username = this.props.cookies.get('username');\n\n      if (username !== undefined) {\n        //console.log('un')\n        const authdata = {\n          username: this.props.cookies.get('username'),\n          pass: this.props.cookies.get('passkey')\n        }; //console.log(authdata)\n\n        get_data('autorization', authdata).then(result => {\n          //console.log(result)\n          this.props.login(result); //this.get_list(result.userkey);\n\n          this.props.cookies.set('userkey', result.userkey, {\n            maxAge: 30\n          });\n        }, err => {\n          console.log(err);\n          this.props.cookies.remove('username');\n          this.props.cookies.remove('passkey');\n        });\n      }\n    } // {!this.props.store.login.logged ? (console.log(this.props.cookies.get('username')):(null)}\n    // console.log(this.props.cookies.get('username'))\n    // console.log(this.props.cookies.get('key'))\n    // const set_hold_shift_true = () => {this.props.set_hold_shift(true)}\n    // const set_hold_shift_false = () => {this.props.set_hold_shift(false)}\n    // document.onkeydown = function (event) {\n    //   //console.log(event.keyCode)\n    //   try {\n    //     if (event.keyCode === 16) {\n    //       //set_hold_shift_true()\n    //       console.log(\"Нажал\")\n    //     }\n    //   } catch (e) { }\n    // };\n    // document.onkeyup = function (event) {\n    //   try {\n    //     if (event.keyCode === 16) {\n    //       //set_hold_shift_false()\n    //       console.log(\"Отпустил\")\n    //     }\n    //   } catch (e) { }\n    // };\n\n\n    const width = window.screen.width;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 7\n      }\n    }, this.props.store.general.use_width && width < 1000 || this.props.store.general.mobile ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }\n    }, !this.props.store.login.logged ? /*#__PURE__*/React.createElement(MLogin, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 48\n      }\n    }) : /*#__PURE__*/React.createElement(MContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 63\n      }\n    })) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 14\n      }\n    }, this.props.store.general.full_screen ? /*#__PURE__*/React.createElement(Content, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 54\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"grid-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    }), this.props.store.login.logged ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 47\n      }\n    }, this.props.store.general.hidemenu ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"logged_main_compact\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(LeftMenu, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Content, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }\n    })) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"logged_main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(LeftMenu, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Content, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }\n    }))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"not_logged_main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Content, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n\nexport default withCookies(connect((state, ownProps) => ({\n  store: state,\n  cookies: ownProps.cookies\n}), dispatch => ({\n  login: param => {\n    dispatch({\n      type: 'LOGIN',\n      payload: param\n    });\n  },\n  logout: () => {\n    dispatch({\n      type: 'LOGOUT'\n    });\n  },\n  set_login: param => {\n    dispatch({\n      type: 'SET_USERNAME',\n      payload: param\n    });\n  },\n  set_password: param => {\n    dispatch({\n      type: 'SET_PASS',\n      payload: param\n    });\n  },\n  set_active_window: param => {\n    dispatch({\n      type: 'set_active_window',\n      payload: param\n    });\n  },\n  set_list: param => {\n    dispatch({\n      type: 'SET_DISPATCH_LIST',\n      payload: param\n    });\n  },\n  set_hold_shift: param => {\n    dispatch({\n      type: 'set_hold_shift',\n      payload: param\n    });\n  }\n}))(Screen));","map":{"version":3,"sources":["/home/saint/ek 3.1/ek-lc-dev/src/home_container.js"],"names":["React","Component","connect","get_data","Header","Footer","LeftMenu","Content","withCookies","MContent","MLogin","Screen","render","props","store","login","logged","username","cookies","get","undefined","authdata","pass","then","result","set","userkey","maxAge","err","console","log","remove","width","window","screen","general","use_width","mobile","full_screen","hidemenu","state","ownProps","dispatch","param","type","payload","logout","set_login","set_password","set_active_window","set_list","set_hold_shift"],"mappings":"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","sourcesContent":["import './App.css';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { get_data } from './common/common_modules';\nimport Header from './screen/components/header';\nimport Footer from './screen/components/footer';\nimport LeftMenu from './screen/components/leftmenu';\nimport Content from './screen/content';\nimport { withCookies } from 'react-cookie';\nimport MContent from './m_screen/m_content';\nimport MLogin from './m_screen/m_login';\n\nclass Screen extends Component {\n\n    \n  render() {\n    \n\n\n    if(!this.props.store.login.logged){\n       const username = this.props.cookies.get('username') \n\n        if(username!==undefined){\n            //console.log('un')\n            const authdata = {\n                username: this.props.cookies.get('username'),\n                pass: this.props.cookies.get('passkey') \n            };\n\n            //console.log(authdata)\n            get_data('autorization', authdata).then(\n                (result) => {\n                  //console.log(result)\n                  this.props.login(result);\n                  //this.get_list(result.userkey);\n                  this.props.cookies.set('userkey', result.userkey, { maxAge: 30 })\n                },\n                (err) => { \n                    console.log(err)\n                    this.props.cookies.remove('username')\n                    this.props.cookies.remove('passkey')\n                 }\n            );\n        } \n        \n    }\n    \n    // {!this.props.store.login.logged ? (console.log(this.props.cookies.get('username')):(null)}\n        // console.log(this.props.cookies.get('username'))\n        // console.log(this.props.cookies.get('key'))\n\n    \n        // const set_hold_shift_true = () => {this.props.set_hold_shift(true)}\n        // const set_hold_shift_false = () => {this.props.set_hold_shift(false)}\n\n        // document.onkeydown = function (event) {\n        //   //console.log(event.keyCode)\n        //   try {\n        //     if (event.keyCode === 16) {\n        //       //set_hold_shift_true()\n        //       console.log(\"Нажал\")\n        //     }\n        //   } catch (e) { }\n        // };\n    \n        // document.onkeyup = function (event) {\n        //   try {\n        //     if (event.keyCode === 16) {\n        //       //set_hold_shift_false()\n        //       console.log(\"Отпустил\")\n        //     }\n        //   } catch (e) { }\n        // };\n\n    const width = window.screen.width;\n    \n    return (\n      <div>\n        {(this.props.store.general.use_width && width < 1000) || this.props.store.general.mobile ? (\n        \n          <div>\n            {!this.props.store.login.logged ? (<MLogin />) : (<MContent />)}\n          </div>\n          \n          ):(<div>\n\n            {this.props.store.general.full_screen ? (<Content />):(\n            <div className=\"grid-container\">\n            \n            <Header />\n            {this.props.store.login.logged ? (<div>\n              {this.props.store.general.hidemenu ?(\n            <div className=\"logged_main_compact\">\n            <LeftMenu />\n            <Content />\n            </div>):( <div className=\"logged_main\">\n            <LeftMenu />\n            <Content />\n            </div>)}\n            </div>) : ( <div className=\"not_logged_main\">\n              <Content />\n              </div>)}\n            <Footer />\n\n            </div>\n            )}\n\n          </div>)}\n\n      </div>\n      \n      \n    );\n  }\n}\n\nexport default withCookies(connect(\n  (state, ownProps) => ({store: state, cookies: ownProps.cookies}),\n  dispatch => ({\n    login: (param) => { dispatch({ type: 'LOGIN', payload: param }) },\n    logout: () => { dispatch({ type: 'LOGOUT' }) },\n    set_login: (param) => { dispatch({ type: 'SET_USERNAME', payload: param }); },\n    set_password: (param) => { dispatch({ type: 'SET_PASS', payload: param }); },\n    set_active_window: (param) => { dispatch({ type: 'set_active_window', payload: param }); },\n    set_list: (param) => { dispatch({ type: 'SET_DISPATCH_LIST', payload: param }) },\n    set_hold_shift: (param) => { dispatch({ type: 'set_hold_shift', payload: param }) },\n})\n  \n)(Screen));"]},"metadata":{},"sourceType":"module"}