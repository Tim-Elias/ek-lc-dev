{"ast":null,"code":"var _jsxFileName = \"/Users/elias/Documents/kinetika/src/screen/components/header.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport logo from \"./../../logo.svg\";\nimport { get_data } from './../../common/common_modules';\nimport { withCookies } from 'react-cookie';\nimport md5 from 'md5';\n\nclass Screen extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.home = () => {\n      this.props.set_active_window(\"home\");\n    };\n\n    this.get_disp = () => {\n      this.props.set_active_window(\"get_disp\");\n    };\n\n    this.my_disp = () => {\n      this.props.set_active_window(\"mydisp\");\n    };\n\n    this.get_list = userkey => {\n      get_data('list', {\n        userkey: userkey\n      }).then(result => {\n        this.props.set_list(result);\n      }, err => {\n        console.log(err);\n      });\n    };\n\n    this.logout = () => {\n      this.props.cookies.remove('username');\n      this.props.cookies.remove('passkey');\n      this.props.logout();\n      this.props.set_active_window(\"home\");\n    };\n\n    this.login = () => {\n      if (this.props.store.login.username !== '' || this.props.store.login.pass !== '') {\n        const authdata = {\n          username: this.props.store.login.username,\n          pass: md5(this.props.store.login.pass)\n        };\n        console.log(this.props.store.login.pass);\n        console.log(authdata);\n        get_data('autorization', authdata).then(result => {\n          this.props.login(result);\n          this.get_list(result.userkey);\n          this.props.cookies.set('username', this.props.store.login.username);\n          this.props.cookies.set('userkey', result.userkey);\n          this.props.cookies.set('passkey', md5(this.props.store.login.pass));\n        }, err => {\n          console.log(err);\n        });\n      } else {\n        this.props.set_error('Необходимо ввести Имя пользователя и Пароль.');\n      }\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"pageHeader\",\n      className: \"topnav\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, this.props.store.general.active_window !== \"home\" ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"header_logo\",\n      src: logo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    })) : null), !this.props.store.login.logged ? React.createElement(\"div\", {\n      className: \"login-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        float: \"left\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      onChange: e => this.props.set_login(e.target.value),\n      value: this.props.store.login.username,\n      type: \"text\",\n      placeholder: \"\\u041B\\u043E\\u0433\\u0438\\u043D\",\n      name: \"username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      onChange: e => this.props.set_password(e.target.value),\n      value: this.props.store.login.pass,\n      type: \"password\",\n      placeholder: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n      name: \"psw\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      onClick: this.login.bind(this),\n      className: \"logout\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"\\u0412\\u0445\\u043E\\u0434\")) : React.createElement(\"div\", {\n      className: \"login-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"topnavusername\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, this.props.store.login.alias, \" \"), React.createElement(\"div\", {\n      onClick: this.logout.bind(this),\n      className: \"logout\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \" \\u0412\\u044B\\u0445\\u043E\\u0434 \")));\n  }\n\n}\n\nexport default withCookies(connect((state, ownProps) => ({\n  store: state,\n  cookies: ownProps.cookies\n}), dispatch => ({\n  login: param => {\n    dispatch({\n      type: 'LOGIN',\n      payload: param\n    });\n  },\n  logout: () => {\n    dispatch({\n      type: 'LOGOUT'\n    });\n  },\n  set_login: param => {\n    dispatch({\n      type: 'SET_USERNAME',\n      payload: param\n    });\n  },\n  set_password: param => {\n    dispatch({\n      type: 'SET_PASS',\n      payload: param\n    });\n  },\n  set_active_window: param => {\n    dispatch({\n      type: 'set_active_window',\n      payload: param\n    });\n  },\n  set_list: param => {\n    dispatch({\n      type: 'SET_DISPATCH_LIST',\n      payload: param\n    });\n  },\n  set_error: param => {\n    dispatch({\n      type: 'SET_ERROR',\n      payload: param\n    });\n  }\n}))(Screen));","map":{"version":3,"sources":["/Users/elias/Documents/kinetika/src/screen/components/header.js"],"names":["React","Component","connect","get_data","withCookies","md5","Screen","home","props","set_active_window","get_disp","my_disp","get_list","userkey","then","result","set_list","err","console","log","logout","cookies","remove","login","store","username","pass","authdata","set","set_error","render","general","active_window","logo","logged","float","e","set_login","target","value","set_password","bind","alias","state","ownProps","dispatch","param","type","payload"],"mappings":"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","sourcesContent":["\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport logo from './../../logo.svg';\nimport { get_data } from './../../common/common_modules'\nimport { withCookies } from 'react-cookie';\nimport md5 from 'md5'\n\n\nclass Screen extends Component {\n\n    \n\n    home = () => {\n        this.props.set_active_window(\"home\");\n    };\n\n\n    get_disp = () => {\n        this.props.set_active_window(\"get_disp\");\n    };\n\n    my_disp = () => {\n        this.props.set_active_window(\"mydisp\");\n    };\n\n    get_list = (userkey) => {\n\n        get_data('list', { userkey: userkey }).then(\n            (result) => { this.props.set_list(result) },\n            (err) => { console.log(err) }\n        );\n    };\n\n    logout = () => {\n        this.props.cookies.remove('username')\n        this.props.cookies.remove('passkey')\n        this.props.logout();\n        this.props.set_active_window(\"home\");\n    };\n\n    login = () => {\n\n        if (this.props.store.login.username !== '' || this.props.store.login.pass !== '') {\n            const authdata = {\n                username: this.props.store.login.username,\n                pass: md5(this.props.store.login.pass)\n            };\n            console.log(this.props.store.login.pass)\n            console.log(authdata)\n            get_data('autorization', authdata).then(\n                (result) => {\n\n                    this.props.login(result);\n\n                    this.get_list(result.userkey);\n\n                    this.props.cookies.set('username',this.props.store.login.username)\n                    this.props.cookies.set('userkey',result.userkey)\n                    this.props.cookies.set('passkey',md5(this.props.store.login.pass))\n\n                },\n                (err) => { console.log(err) }\n            );\n        }\n        else {\n            this.props.set_error('Необходимо ввести Имя пользователя и Пароль.')\n        }\n    };\n\n\n\n\n    render() {\n        return (\n\n            <div id=\"pageHeader\" className=\"topnav\">\n\n\n\n                <div>\n                    {this.props.store.general.active_window !== \"home\" ? (\n                        <div>\n                            <img className=\"header_logo\" src={logo} />\n                        </div>) : (null)}\n                    {/* <div onClick={this.home.bind(this)} className=\"topnavel\">Создать заявку</div>\n                    <div onClick={this.get_disp.bind(this)} className=\"topnavel\">Отследить накладную</div>\n                    <div onClick={this.my_disp.bind(this)} className=\"topnavel\">Рассчитать стоимость</div> */}\n                    {/* <div onClick ={this.props.set_active_window.bind(this,'profile')} className=\"topnavel\">Профиль</div> */}\n                </div>\n\n\n\n                {!this.props.store.login.logged ? (<div className=\"login-container\">\n                    <div style={{ float: \"left\" }}>\n                        <input onChange={e => this.props.set_login(e.target.value)} value={this.props.store.login.username} type=\"text\" placeholder=\"Логин\" name=\"username\" />\n\n                        <input onChange={e => this.props.set_password(e.target.value)} value={this.props.store.login.pass} type=\"password\" placeholder=\"Пароль\" name=\"psw\" />\n                    </div>\n                    <div onClick={this.login.bind(this)} className=\"logout\">Вход</div>\n\n\n                </div>) : (<div className=\"login-container\">\n                    <div className=\"topnavusername\">{this.props.store.login.alias} </div>\n                    <div onClick={this.logout.bind(this)} className=\"logout\"> Выход </div>\n                </div>)}\n            </div>\n        );\n    }\n}\n\nexport default withCookies(connect(\n    (state, ownProps) => ({store: state, cookies: ownProps.cookies}),\n    dispatch => ({\n        login: (param) => { dispatch({ type: 'LOGIN', payload: param }) },\n        logout: () => { dispatch({ type: 'LOGOUT' }) },\n        set_login: (param) => { dispatch({ type: 'SET_USERNAME', payload: param }); },\n        set_password: (param) => { dispatch({ type: 'SET_PASS', payload: param }); },\n        set_active_window: (param) => { dispatch({ type: 'set_active_window', payload: param }); },\n        set_list: (param) => { dispatch({ type: 'SET_DISPATCH_LIST', payload: param }) },\n        set_error: (param) => { dispatch({ type: 'SET_ERROR', payload: param }) }\n    })\n)(Screen));"]},"metadata":{},"sourceType":"module"}