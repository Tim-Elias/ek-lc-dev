{"ast":null,"code":"var _jsxFileName = \"/home/saint/123/ek-lc-dev/src/m_screen/m_storage.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport './mobile.css';\nimport './mobile_storage.css';\nimport { get_data } from '../common/common_modules';\n\nclass Screen extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.tr_click = async disp => {\n      this.props.set_active_window(\"wait\");\n      const data = {\n        userkey: this.props.store.login.userkey,\n        status: disp.Type,\n        num: disp.Number\n      };\n      get_data('dispatch', data).then(result => {\n        this.props.set_data_disp(result);\n        this.props.set_active_window(\"m_disp\");\n        this.props.set_last_window(\"storage\");\n        this.props.set_action(\"deliver\");\n      }, err => {\n        console.log(err);\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"mobile_heading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, \"\\u0414\\u043E\\u0441\\u0442\\u0430\\u0432\\u043A\\u0438 \\u0438 \\u0417\\u0430\\u044F\\u0432\\u043A\\u0438\"), React.createElement(\"div\", {\n      className: \"mobile_storage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"mobile_container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"mobile_search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"mobile_search_label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, \"\\u041F\\u043E\\u0438\\u0441\\u043A:\"), React.createElement(\"input\", {\n      class: \"mobile_search_input\",\n      onChange: e => {\n        this.props.set_search_storagre(e.target.value);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    })), this.props.store.storage.list.filter(el => this.props.store.storage.search === \"\" || el.Number.indexOf(this.props.store.storage.search) !== -1).map((disp, index) => React.createElement(\"div\", {\n      key: index,\n      className: disp.Status === 'Отменена' ? \"mobile_storage_item mobile_storage_item--canceling\" : \"mobile_storage_item\",\n      onClick: this.tr_click.bind(this, disp),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"mobile_storage_field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, disp.Customer), React.createElement(\"div\", {\n      className: \"mobile_storage_field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, disp.Date), React.createElement(\"div\", {\n      className: \"mobile_storage_field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, disp.Type, \" \", disp.Number), React.createElement(\"div\", {\n      className: \"mobile_storage_field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, disp.reccity, \" \", disp.Adress), React.createElement(\"div\", {\n      className: \"mobile_storage_field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, disp.Phone, \" \", disp.Person)), React.createElement(\"div\", {\n      className: \"mobile_storage_item_row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"mobile_storage_field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, disp.Status), React.createElement(\"div\", {\n      className: \"mobile_storage_field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, disp.COD, \" \\u0440\\u0443\\u0431.\"))))))));\n  }\n\n}\n\n;\nexport default connect(state => ({\n  store: state\n}), dispatch => ({\n  set_data_disp: param => {\n    dispatch({\n      type: 'set_data_disp',\n      payload: param\n    });\n  },\n  set_last_window: () => {\n    dispatch({\n      type: 'set_last_window',\n      payload: \"storage\"\n    });\n  },\n  set_active_window: param => {\n    dispatch({\n      type: 'set_active_window',\n      payload: param\n    });\n  },\n  set_action: param => {\n    dispatch({\n      type: 'set_action',\n      payload: param\n    });\n  },\n  set_search_storagre: param => {\n    dispatch({\n      type: 'set_search_storagre',\n      payload: param\n    });\n  }\n}))(Screen);","map":{"version":3,"sources":["/home/saint/123/ek-lc-dev/src/m_screen/m_storage.js"],"names":["React","connect","get_data","Screen","Component","tr_click","disp","props","set_active_window","data","userkey","store","login","status","Type","num","Number","then","result","set_data_disp","set_last_window","set_action","err","console","log","render","e","set_search_storagre","target","value","storage","list","filter","el","search","indexOf","map","index","Status","bind","Customer","Date","reccity","Adress","Phone","Person","COD","state","dispatch","param","type","payload"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport './mobile.css';\nimport './mobile_storage.css';\nimport { get_data } from '../common/common_modules';\n\nclass Screen extends React.Component {\n\n    tr_click = async (disp) => {\n        this.props.set_active_window(\"wait\");\n\n        const data = {\n            userkey: this.props.store.login.userkey,\n            status: disp.Type,\n            num: disp.Number,\n        };\n\n        get_data('dispatch', data).then(\n            (result) => {\n                this.props.set_data_disp(result);\n                this.props.set_active_window(\"m_disp\");\n                this.props.set_last_window(\"storage\");\n                this.props.set_action(\"deliver\");\n            },\n            (err) => { console.log(err) }\n        );\n    };\n\n    render() {\n\n        return (\n            <div>\n                <div className=\"mobile_heading\">\n                    Доставки и Заявки\n                </div>\n\n                <div className=\"mobile_storage\">\n                    <div className=\"mobile_container\">\n\n                        <div class=\"mobile_search\">\n                            <div class=\"mobile_search_label\">\n                                Поиск:\n                            </div>\n                            <input class=\"mobile_search_input\" onChange={(e) => { this.props.set_search_storagre(e.target.value) }} />\n                        </div>\n\n                        {this.props.store.storage.list.filter((el) => this.props.store.storage.search === \"\" || el.Number.indexOf(this.props.store.storage.search) !== -1).map((disp, index) =>\n\n                            <div key={index} className={disp.Status === 'Отменена' ? \"mobile_storage_item mobile_storage_item--canceling\" : \"mobile_storage_item\"} onClick={this.tr_click.bind(this, disp)}>\n                                <div>\n                                    <div className=\"mobile_storage_field\">{disp.Customer}</div>\n                                    <div className=\"mobile_storage_field\">{disp.Date}</div>\n                                    <div className=\"mobile_storage_field\">{disp.Type} {disp.Number}</div>\n                                    <div className=\"mobile_storage_field\">{disp.reccity} {disp.Adress}</div>\n                                    <div className=\"mobile_storage_field\">{disp.Phone} {disp.Person}</div>\n                                </div>\n                                <div className=\"mobile_storage_item_row\">\n                                    <div className=\"mobile_storage_field\">{disp.Status}</div>\n                                    <div className=\"mobile_storage_field\"><b>{disp.COD} руб.</b></div>\n                                </div>\n                            </div>\n\n                        )}\n                    </div>\n                </div>\n            </div>\n        )\n    }\n};\n\n\nexport default connect(\n    state => ({\n        store: state\n    }),\n    dispatch => ({\n        set_data_disp: (param) => { dispatch({ type: 'set_data_disp', payload: param }) },\n        set_last_window: () => { dispatch({ type: 'set_last_window', payload: \"storage\" }) },\n        set_active_window: (param) => { dispatch({ type: 'set_active_window', payload: param }) },\n        set_action: (param) => { dispatch({ type: 'set_action', payload: param }) }, \n        set_search_storagre: (param) => { dispatch({ type: 'set_search_storagre', payload: param }) }, \n    })\n\n)(Screen);"]},"metadata":{},"sourceType":"module"}