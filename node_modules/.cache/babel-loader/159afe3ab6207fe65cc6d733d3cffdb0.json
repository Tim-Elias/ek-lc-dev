{"ast":null,"code":"var _jsxFileName = \"/home/saint/ek 3.1/ek-lc-dev/src/m_screen/m_manifest.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { get_data } from './../common/common_modules';\nimport './mobile_disp.css';\n\nclass Screen extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.get_selected = () => {\n      const getmanifest_data = {\n        userkey: this.props.store.login.userkey,\n        num: this.props.store.manifest.data.num,\n        dispatches: this.props.store.manifest.data.dispatches.filter(el => {\n          return el.selected;\n        }).map(el => {\n          return el.num;\n        })\n      };\n      get_data('getmanifest', getmanifest_data).then(result => {\n        const data = {\n          userkey: this.props.store.login.userkey,\n          num: this.props.store.manifest.data.num\n        };\n        get_data('manifestenroute', data).then(result => {\n          console.log(result);\n          this.props.set_data_manifest(result);\n          this.props.set_action_manifest(\"get\");\n        }, err => {\n          console.log(err);\n        }); // this.props.set_list_storage(result);\n        // this.props.set_active_window(\"storage\");\n      }, err => {\n        console.log(err);\n      });\n    };\n\n    this.check = num => {\n      this.props.check_manifest_disp(num);\n    };\n  }\n\n  render() {\n    document.onkeydown = function (event) {};\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mobile_heading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }\n    }, \"\\u041C\\u0430\\u043D\\u0438\\u0444\\u0435\\u0441\\u0442 \\u0432\\u0445\\u043E\\u0434\\u044F\\u0449\\u0438\\u0439 \", this.props.store.manifest.data.num), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"disp_customer_data\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mobile_disp_data_label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }\n    }, \"\\u0421\\u043A\\u043B\\u0430\\u0434 \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u044F:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mobile_disp_data_el\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }\n    }, this.props.store.manifest.data.sender), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mobile_disp_data_label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }\n    }, \"\\u0414\\u0430\\u0442\\u0430 \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u044F:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mobile_disp_data_el\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }\n    }, this.props.store.manifest.data.date), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mobile_disp_data_label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }\n    }, \"\\u041F\\u0435\\u0440\\u0435\\u0432\\u043E\\u0437\\u0447\\u0438\\u043A:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mobile_disp_data_el\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }\n    }, this.props.store.manifest.data.carrier)), this.props.store.manifest.data.dispatches.length !== 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"disp_cargo_table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 76\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"disp_cargo_table_data\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }\n    }, this.props.store.manifest.data.dispatches.map((disp, index) => /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"disp_address_data_header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 25\n      }\n    }, \"\\u041D\\u0430\\u043A\\u043B\\u0430\\u0434\\u043D\\u044B\\u0435 \\u043F\\u043E \\u043C\\u0430\\u043D\\u0438\\u0444\\u0435\\u0441\\u0442\\u0443\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"disp_address_data_el\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mobile_disp_data_label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 29\n      }\n    }, \"\\u041F\\u0440\\u0438\\u043D\\u0438\\u044F\\u0442\\u043E:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mobile_disp_data_el\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      checked: disp.selected,\n      onChange: this.check.bind(this, disp.num),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 66\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mobile_disp_data_label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 29\n      }\n    }, \"\\u041D\\u043E\\u043C\\u0435\\u0440:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mobile_disp_data_el\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 29\n      }\n    }, disp.num), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mobile_disp_data_label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 29\n      }\n    }, \"\\u0417\\u0430\\u043A\\u0430\\u0437\\u0447\\u0438\\u043A:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mobile_disp_data_el\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 29\n      }\n    }, disp.customer), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mobile_disp_data_label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 29\n      }\n    }, \"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u043C\\u0435\\u0441\\u0442:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mobile_disp_data_el\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 29\n      }\n    }, disp.total), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mobile_disp_data_label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 29\n      }\n    }, \"\\u0412\\u0435\\u0441:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mobile_disp_data_el\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 29\n      }\n    }, disp.weight)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"disp_cargo_table_header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 25\n      }\n    }, \"\\u041F\\u0440\\u0438\\u043D\\u044F\\u0442\\u043E \\u043F\\u043E \\u043C\\u0430\\u043D\\u0438\\u0444\\u0435\\u0441\\u0442\\u0443:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"disp_data_el\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 25\n      }\n    }, \"\\u041D\\u0430\\u043A\\u043B\\u0430\\u0434\\u043D\\u044B\\u0445: \", this.props.store.manifest.data.dispatches.filter(el => {\n      return el.selected;\n    }).length, \" \\u0438\\u0437 \", this.props.store.manifest.data.dispatches.length, \" (\\u043C\\u0435\\u0441\\u0442: \", this.props.store.manifest.data.dispatches.filter(el => {\n      return el.selected;\n    }).reduce((sum, el) => {\n      return sum + parseInt(el.total);\n    }, 0), \" \\u0438\\u0437 \", this.props.store.manifest.data.dispatches.reduce((sum, el) => {\n      return sum + parseInt(el.total);\n    }, 0), \")\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.get_selected.bind(this),\n      className: \"send_pod\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 25\n      }\n    }, \"\\u041F\\u0440\\u0438\\u043D\\u044F\\u0442\\u044C \\u043D\\u0430 \\u0441\\u043A\\u043B\\u0430\\u0434 \\u0438 \\u0437\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"manifest_complited\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 28\n      }\n    }, \"\\u041C\\u0430\\u043D\\u0438\\u0444\\u0435\\u0441\\u0442 \\u043F\\u0440\\u0438\\u043D\\u044F\\u0442 \\u043F\\u043E\\u043B\\u043D\\u043E\\u0441\\u0442\\u044C\\u044E\"));\n  }\n\n}\n\nexport default connect(state => ({\n  store: state\n}), dispatch => ({\n  set_list_storage: param => {\n    dispatch({\n      type: 'set_list_storage',\n      payload: param\n    });\n  },\n  set_active_window: param => {\n    dispatch({\n      type: 'set_active_window',\n      payload: param\n    });\n  },\n  check_manifest_disp: param => {\n    dispatch({\n      type: 'check_manifest_disp',\n      payload: param\n    });\n  },\n  set_data_manifest: param => {\n    dispatch({\n      type: 'set_data_manifest',\n      payload: param\n    });\n  },\n  set_action_manifest: param => {\n    dispatch({\n      type: 'set_action_manifest',\n      payload: param\n    });\n  }\n}))(Screen);","map":{"version":3,"sources":["/home/saint/ek 3.1/ek-lc-dev/src/m_screen/m_manifest.js"],"names":["React","connect","get_data","Screen","Component","get_selected","getmanifest_data","userkey","props","store","login","num","manifest","data","dispatches","filter","el","selected","map","then","result","console","log","set_data_manifest","set_action_manifest","err","check","check_manifest_disp","render","document","onkeydown","event","sender","date","carrier","length","disp","index","bind","customer","total","weight","reduce","sum","parseInt","state","dispatch","set_list_storage","param","type","payload","set_active_window"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport { get_data } from './../common/common_modules';\nimport './mobile_disp.css';\n\nclass Screen extends React.Component {\n\n    get_selected = () => {\n\n        const getmanifest_data = {\n            userkey: this.props.store.login.userkey,\n            num: this.props.store.manifest.data.num,\n            dispatches: this.props.store.manifest.data.dispatches.filter((el) => { return el.selected }).map((el) => { return el.num })\n        };\n\n        get_data('getmanifest', getmanifest_data).then(\n            (result) => {\n\n                const data = {\n                    userkey: this.props.store.login.userkey,\n                    num: this.props.store.manifest.data.num\n                };\n\n                get_data('manifestenroute', data).then(\n                    (result) => {\n                        console.log(result)\n                        this.props.set_data_manifest(result);\n                        this.props.set_action_manifest(\"get\");\n                    },\n                    (err) => { console.log(err) }\n                );\n\n                // this.props.set_list_storage(result);\n                // this.props.set_active_window(\"storage\");\n            },\n            (err) => { console.log(err) }\n        );\n    }\n\n    check = (num) => {\n        this.props.check_manifest_disp(num)\n    }\n    render() {\n\n        document.onkeydown = function (event) { }\n        return (\n            <div>\n                <div className=\"mobile_heading\">Манифест входящий {this.props.store.manifest.data.num}</div>\n\n                <div className=\"disp_customer_data\">\n                    <div className=\"mobile_disp_data_label\">Склад отправления:</div>\n                    <div className=\"mobile_disp_data_el\">{this.props.store.manifest.data.sender}</div>\n                    <div className=\"mobile_disp_data_label\">Дата отправления:</div>\n                    <div className=\"mobile_disp_data_el\">{this.props.store.manifest.data.date}</div>\n                    <div className=\"mobile_disp_data_label\">Перевозчик:</div>\n                    <div className=\"mobile_disp_data_el\">{this.props.store.manifest.data.carrier}</div>\n                </div>\n\n                {this.props.store.manifest.data.dispatches.length !== 0 ? (<div className=\"disp_cargo_table\">\n                    <div className=\"disp_cargo_table_data\">\n\n                    {this.props.store.manifest.data.dispatches.map((disp, index) =>\n                    <div key={index}>\n                        <div className=\"disp_address_data_header\">Накладные по манифесту</div>\n                        <div className=\"disp_address_data_el\">\n                            <div className=\"mobile_disp_data_label\">Приниято:</div>\n                            <div className=\"mobile_disp_data_el\"><input type=\"checkbox\" checked={disp.selected} onChange={this.check.bind(this, disp.num)} /></div>\n                            <div className=\"mobile_disp_data_label\">Номер:</div>\n                            <div className=\"mobile_disp_data_el\">{disp.num}</div>\n                            <div className=\"mobile_disp_data_label\">Заказчик:</div>\n                            <div className=\"mobile_disp_data_el\">{disp.customer}</div>\n                            <div className=\"mobile_disp_data_label\">Количество мест:</div>\n                            <div className=\"mobile_disp_data_el\">{disp.total}</div>\n                            <div className=\"mobile_disp_data_label\">Вес:</div>\n                            <div className=\"mobile_disp_data_el\">{disp.weight}</div>\n                        </div>\n                    </div>)}\n\n                        <div className=\"disp_cargo_table_header\">Принято по манифесту:</div>\n                        <div className=\"disp_data_el\">Накладных: {this.props.store.manifest.data.dispatches.filter((el) => { return el.selected }).length} из {this.props.store.manifest.data.dispatches.length} (мест: {this.props.store.manifest.data.dispatches.filter((el) => { return el.selected }).reduce((sum, el) => { return sum + parseInt(el.total) }, 0)} из {this.props.store.manifest.data.dispatches.reduce((sum, el) => { return sum + parseInt(el.total) }, 0)})</div>\n                        <button onClick={this.get_selected.bind(this)} className=\"send_pod\">Принять на склад и закрыть</button>\n\n                    </div>\n                </div>) : (<div className=\"manifest_complited\">Манифест принят полностью</div>)}\n\n            </div>\n        )\n    }\n}\n\nexport default connect(\n    state => ({\n        store: state\n    }),\n    dispatch => ({\n        set_list_storage: (param) => { dispatch({ type: 'set_list_storage', payload: param }) },\n        set_active_window: (param) => { dispatch({ type: 'set_active_window', payload: param }) },\n        check_manifest_disp: (param) => { dispatch({ type: 'check_manifest_disp', payload: param }) },\n        set_data_manifest: (param) => { dispatch({ type: 'set_data_manifest', payload: param }) },\n        set_action_manifest: (param) => { dispatch({ type: 'set_action_manifest', payload: param }) },\n    })\n)(Screen);"]},"metadata":{},"sourceType":"module"}