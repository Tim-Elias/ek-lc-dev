{"ast":null,"code":"var _jsxFileName = \"/home/saint/123/ek-lc-dev/src/screen/disp_template_list.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { Button, Icon, Table } from 'semantic-ui-react';\nimport { get_data } from './../common/common_modules';\n\nclass Screen extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.create_disp_template = () => {\n      this.props.reset_selected_disp_template();\n      this.props.modules.set_active_window('disp_template');\n      this.props.modules.set_last_window('disp_template_list');\n    };\n\n    this.tr_double_click = el => {\n      const city = this.props.store.create_disp.CityList.filter(list_el => list_el.value === el.City)[0]; //console.log(city)\n\n      const city_label = city.label;\n      this.props.modules.set_active_window('wait');\n      get_data('terminallist', {\n        city: city_label\n      }).then(result => {\n        let crrent_terminal = {};\n        this.props.set_disp_template_terminal_list(result);\n\n        if (result.length === 0) {\n          this.props.set_selected_disp_template_Terminal(false);\n        } else {\n          if (el.Terminal) {\n            crrent_terminal = result.filter(list_el => list_el.value === el.CurrentTerminal)[0]; //this.props.set_selected_disp_template_CurrentTerminal(crrent_terminal)\n          }\n        }\n\n        this.props.set_selected_disp_template({ ...el,\n          City: city,\n          CurrentTerminal: crrent_terminal\n        });\n        this.props.modules.set_active_window('disp_template');\n        this.props.modules.set_last_window('disp_template_list');\n      }, err => {\n        console.log(\"err\");\n        console.log(err);\n      });\n    };\n  }\n\n  render() {\n    document.onkeydown = function (event) {};\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"disp_Number\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(Button, {\n      compact: true,\n      icon: true,\n      onClick: this.props.modules.back,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      name: \"arrow left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    })), React.createElement(\"b\", {\n      className: \"page_header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"\\u0428\\u0430\\u0431\\u043B\\u043E\\u043D\\u044B \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u0435\\u043B\\u0435\\u0439 \\u0438 \\u043F\\u043E\\u043B\\u0443\\u0447\\u0430\\u0442\\u0435\\u043B\\u0435\\u0439\"))), React.createElement(Table, {\n      celled: true,\n      size: \"small\",\n      compact: \"very\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(Table.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(Table.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(Table.HeaderCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"small_table_data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"\\u0418\\u043C\\u044F\")), React.createElement(Table.HeaderCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"small_table_data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"\\u0413\\u043E\\u0440\\u043E\\u0434\")), React.createElement(Table.HeaderCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"small_table_data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"\\u0410\\u0434\\u0440\\u0435\\u0441\")), React.createElement(Table.HeaderCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"small_table_data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\")), React.createElement(Table.HeaderCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"small_table_data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"\\u041A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u043D\\u043E\\u0435 \\u043B\\u0438\\u0446\\u043E\")), React.createElement(Table.HeaderCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"small_table_data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"\\u041A\\u043E\\u043C\\u043F\\u0430\\u043D\\u0438\\u044F\")), React.createElement(Table.HeaderCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"small_table_data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"\\u0414\\u043E\\u043F.\\u0438\\u043D\\u0444\\u043E\")))), React.createElement(Table.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, this.props.store.upload_manifest.disp_template_list.map((el, index) => {\n      return React.createElement(Table.Row, {\n        //className={row_className} \n        key: el.Key //onClick={this.tr_click.bind(this,index)}  \n        ,\n        onDoubleClick: this.tr_double_click.bind(this, el),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(Table.Cell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"small_table_data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, el.label)), React.createElement(Table.Cell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"small_table_data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, el.City)), React.createElement(Table.Cell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"small_table_data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, el.Terminal ? el.CurrentTerminal + \" (Cклад)\" : el.Adress)), React.createElement(Table.Cell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"small_table_data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, el.Phone)), React.createElement(Table.Cell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"small_table_data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, el.Person)), React.createElement(Table.Cell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"small_table_data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, el.Company)), React.createElement(Table.Cell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"small_table_data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, el.AddInfo)));\n    }))), React.createElement(Button, {\n      onClick: this.create_disp_template.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u0448\\u0430\\u0431\\u043B\\u043E\\u043D\"));\n  }\n\n}\n\n;\nexport default connect(state => ({\n  store: state\n}), dispatch => ({\n  set_selected_disp_template: param => {\n    dispatch({\n      type: 'set_selected_disp_template',\n      payload: param\n    });\n  },\n  set_last_window: param => {\n    dispatch({\n      type: 'set_last_window',\n      payload: param\n    });\n  },\n  set_selected_disp_template_Terminal: param => {\n    dispatch({\n      type: 'set_selected_disp_template_Terminal',\n      payload: param\n    });\n  },\n  set_disp_template_terminal_list: param => {\n    dispatch({\n      type: 'set_disp_template_terminal_list',\n      payload: param\n    });\n  },\n  set_selected_disp_template_CurrentTerminal: param => {\n    dispatch({\n      type: 'set_selected_disp_template_CurrentTerminal',\n      payload: param\n    });\n  },\n  reset_selected_disp_template: param => {\n    dispatch({\n      type: 'reset_selected_disp_template',\n      payload: param\n    });\n  }\n}))(Screen);","map":{"version":3,"sources":["/home/saint/123/ek-lc-dev/src/screen/disp_template_list.js"],"names":["React","connect","Button","Icon","Table","get_data","Screen","Component","create_disp_template","props","reset_selected_disp_template","modules","set_active_window","set_last_window","tr_double_click","el","city","store","create_disp","CityList","filter","list_el","value","City","city_label","label","then","result","crrent_terminal","set_disp_template_terminal_list","length","set_selected_disp_template_Terminal","Terminal","CurrentTerminal","set_selected_disp_template","err","console","log","render","document","onkeydown","event","back","upload_manifest","disp_template_list","map","index","Key","bind","Adress","Phone","Person","Company","AddInfo","state","dispatch","param","type","payload","set_selected_disp_template_CurrentTerminal"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,KAAvB,QAAmC,mBAAnC;AACA,SAASC,QAAT,QAAyB,4BAAzB;;AAEA,MAAMC,MAAN,SAAqBN,KAAK,CAACO,SAA3B,CAAqC;AAAA;AAAA;;AAAA,SAEjCC,oBAFiC,GAEV,MAAK;AACxB,WAAKC,KAAL,CAAWC,4BAAX;AACA,WAAKD,KAAL,CAAWE,OAAX,CAAmBC,iBAAnB,CAAqC,eAArC;AACA,WAAKH,KAAL,CAAWE,OAAX,CAAmBE,eAAnB,CAAmC,oBAAnC;AACH,KANgC;;AAAA,SASjCC,eATiC,GASdC,EAAD,IAAO;AAGrB,YAAMC,IAAI,GAAG,KAAKP,KAAL,CAAWQ,KAAX,CAAiBC,WAAjB,CAA6BC,QAA7B,CAAsCC,MAAtC,CAA8CC,OAAD,IAAWA,OAAO,CAACC,KAAR,KAAkBP,EAAE,CAACQ,IAA7E,EAAmF,CAAnF,CAAb,CAHqB,CAOrB;;AAEA,YAAMC,UAAU,GAAGR,IAAI,CAACS,KAAxB;AACA,WAAKhB,KAAL,CAAWE,OAAX,CAAmBC,iBAAnB,CAAqC,MAArC;AACAP,MAAAA,QAAQ,CAAC,cAAD,EAAiB;AAACW,QAAAA,IAAI,EAAEQ;AAAP,OAAjB,CAAR,CAA6CE,IAA7C,CACKC,MAAD,IAAY;AAEV,YAAIC,eAAe,GAAG,EAAtB;AACA,aAAKnB,KAAL,CAAWoB,+BAAX,CAA2CF,MAA3C;;AACA,YAAIA,MAAM,CAACG,MAAP,KAAkB,CAAtB,EAAyB;AACvB,eAAKrB,KAAL,CAAWsB,mCAAX,CAA+C,KAA/C;AACD,SAFD,MAEO;AACH,cAAIhB,EAAE,CAACiB,QAAP,EAAiB;AACfJ,YAAAA,eAAe,GAAGD,MAAM,CAACP,MAAP,CAAeC,OAAD,IAAWA,OAAO,CAACC,KAAR,KAAkBP,EAAE,CAACkB,eAA9C,EAA+D,CAA/D,CAAlB,CADe,CAEf;AACD;AACJ;;AACD,aAAKxB,KAAL,CAAWyB,0BAAX,CAAsC,EAAC,GAAGnB,EAAJ;AAAQQ,UAAAA,IAAI,EAAEP,IAAd;AAAoBiB,UAAAA,eAAe,EAAEL;AAArC,SAAtC;AACA,aAAKnB,KAAL,CAAWE,OAAX,CAAmBC,iBAAnB,CAAqC,eAArC;AACE,aAAKH,KAAL,CAAWE,OAAX,CAAmBE,eAAnB,CAAmC,oBAAnC;AACH,OAhBL,EAiBKsB,GAAD,IAAS;AACLC,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,OApBL;AAuBH,KA3CgC;AAAA;;AA6CjCG,EAAAA,MAAM,GAAG;AACLC,IAAAA,QAAQ,CAACC,SAAT,GAAqB,UAAUC,KAAV,EAAiB,CAAE,CAAxC;;AACA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK,oBAAC,MAAD;AAAQ,MAAA,OAAO,MAAf;AAAgB,MAAA,IAAI,MAApB;AAAqB,MAAA,OAAO,EAAE,KAAKhC,KAAL,CAAWE,OAAX,CAAmB+B,IAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACD,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADC,CAAL,EAGI;AAAG,MAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uMAHJ,CADJ,CADJ,EASI,oBAAC,KAAD;AAAO,MAAA,MAAM,MAAb;AAAc,MAAA,IAAI,EAAC,OAAnB;AAA2B,MAAA,OAAO,EAAC,MAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACF,oBAAC,KAAD,CAAO,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACF,oBAAC,KAAD,CAAO,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,KAAD,CAAO,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAkB;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAAlB,CADA,EAEE,oBAAC,KAAD,CAAO,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAkB;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAAlB,CAFF,EAGE,oBAAC,KAAD,CAAO,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAkB;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAAlB,CAHF,EAIE,oBAAC,KAAD,CAAO,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAkB;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDAAlB,CAJF,EAKA,oBAAC,KAAD,CAAO,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAkB;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+FAAlB,CALA,EAME,oBAAC,KAAD,CAAO,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAkB;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0DAAlB,CANF,EAOE,oBAAC,KAAD,CAAO,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAkB;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qDAAlB,CAPF,CADE,CADE,EAeN,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEU,KAAKjC,KAAL,CAAWQ,KAAX,CAAiB0B,eAAjB,CAAiCC,kBAAjC,CAAoDC,GAApD,CAAwD,CAAC9B,EAAD,EAAK+B,KAAL,KAAe;AACnE,aACI,oBAAC,KAAD,CAAO,GAAP;AACZ;AACA,QAAA,GAAG,EAAE/B,EAAE,CAACgC,GAFI,CAGZ;AAHY;AAIZ,QAAA,aAAa,EAAE,KAAKjC,eAAL,CAAqBkC,IAArB,CAA0B,IAA1B,EAAgCjC,EAAhC,CAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAMd,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAY;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAmCA,EAAE,CAACU,KAAtC,CAAZ,CANc,EAOd,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAY;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAmCV,EAAE,CAACQ,IAAtC,CAAZ,CAPc,EAQd,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAY;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAmCR,EAAE,CAACiB,QAAH,GAAejB,EAAE,CAACkB,eAAH,GAAqB,UAApC,GAAiDlB,EAAE,CAACkC,MAAvF,CAAZ,CARc,EASd,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAY;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAmClC,EAAE,CAACmC,KAAtC,CAAZ,CATc,EAUd,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAY;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAmCnC,EAAE,CAACoC,MAAtC,CAAZ,CAVc,EAWd,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAY;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAmCpC,EAAE,CAACqC,OAAtC,CAAZ,CAXc,EAYd,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAY;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAmCrC,EAAE,CAACsC,OAAtC,CAAZ,CAZc,CADJ;AAiBH,KAlBD,CAFV,CAfM,CATJ,EAgDA,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAE,KAAK7C,oBAAL,CAA0BwC,IAA1B,CAA+B,IAA/B,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yFAhDA,CADJ;AAoDH;;AAnGgC;;AAoGpC;AAED,eAAe/C,OAAO,CAClBqD,KAAK,KAAK;AACNrC,EAAAA,KAAK,EAAEqC;AADD,CAAL,CADa,EAIlBC,QAAQ,KAAK;AACTrB,EAAAA,0BAA0B,EAAGsB,KAAD,IAAW;AAAED,IAAAA,QAAQ,CAAC;AAAEE,MAAAA,IAAI,EAAE,4BAAR;AAAsCC,MAAAA,OAAO,EAAEF;AAA/C,KAAD,CAAR;AAAkE,GADlG;AAET3C,EAAAA,eAAe,EAAG2C,KAAD,IAAW;AAAED,IAAAA,QAAQ,CAAC;AAAEE,MAAAA,IAAI,EAAE,iBAAR;AAA2BC,MAAAA,OAAO,EAAEF;AAApC,KAAD,CAAR;AAAuD,GAF5E;AAGTzB,EAAAA,mCAAmC,EAAGyB,KAAD,IAAW;AAAED,IAAAA,QAAQ,CAAC;AAAEE,MAAAA,IAAI,EAAE,qCAAR;AAA+CC,MAAAA,OAAO,EAAEF;AAAxD,KAAD,CAAR;AAA2E,GAHpH;AAIT3B,EAAAA,+BAA+B,EAAG2B,KAAD,IAAW;AAAED,IAAAA,QAAQ,CAAC;AAAEE,MAAAA,IAAI,EAAE,iCAAR;AAA2CC,MAAAA,OAAO,EAAEF;AAApD,KAAD,CAAR;AAAuE,GAJ5G;AAKTG,EAAAA,0CAA0C,EAAGH,KAAD,IAAW;AAAED,IAAAA,QAAQ,CAAC;AAAEE,MAAAA,IAAI,EAAE,4CAAR;AAAsDC,MAAAA,OAAO,EAAEF;AAA/D,KAAD,CAAR;AAAkF,GALlI;AAMT9C,EAAAA,4BAA4B,EAAG8C,KAAD,IAAW;AAAED,IAAAA,QAAQ,CAAC;AAAEE,MAAAA,IAAI,EAAE,8BAAR;AAAwCC,MAAAA,OAAO,EAAEF;AAAjD,KAAD,CAAR;AAAoE;AANtG,CAAL,CAJU,CAAP,CAYblD,MAZa,CAAf","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport { Button, Icon, Table} from 'semantic-ui-react'\nimport { get_data } from './../common/common_modules'\n\nclass Screen extends React.Component {\n\n    create_disp_template = () =>{\n        this.props.reset_selected_disp_template()\n        this.props.modules.set_active_window('disp_template')\n        this.props.modules.set_last_window('disp_template_list')\n    }\n\n\n    tr_double_click = (el) =>{\n        \n        \n        const city = this.props.store.create_disp.CityList.filter((list_el)=>list_el.value === el.City)[0]\n\n        \n        \n        //console.log(city)\n        \n        const city_label = city.label\n        this.props.modules.set_active_window('wait')\n        get_data('terminallist', {city: city_label}).then(\n            (result) => {\n              \n              let crrent_terminal = {}\n              this.props.set_disp_template_terminal_list(result)\n              if (result.length === 0) {\n                this.props.set_selected_disp_template_Terminal(false)\n              } else {\n                  if (el.Terminal) {\n                    crrent_terminal = result.filter((list_el)=>list_el.value === el.CurrentTerminal)[0]\n                    //this.props.set_selected_disp_template_CurrentTerminal(crrent_terminal)\n                  }\n              }\n              this.props.set_selected_disp_template({...el, City: city, CurrentTerminal: crrent_terminal})\n              this.props.modules.set_active_window('disp_template')\n                this.props.modules.set_last_window('disp_template_list')\n            },\n            (err) => { \n                console.log(\"err\")  \n                console.log(err) \n            }\n        );\n        \n    }\n\n    render() {\n        document.onkeydown = function (event) {}\n        return (\n            <div>\n                <div className=\"disp_Number\">\n                    <div><Button compact icon onClick={this.props.modules.back}>\n                        <Icon name='arrow left' />\n                    </Button>\n                        <b className='page_header'>Шаблоны отправителей и получателей</b>\n                    </div>\n                </div>\n\n                <Table celled size='small' compact='very'>\n              <Table.Header>\n            <Table.Row>\n            <Table.HeaderCell><div className='small_table_data'>Имя</div></Table.HeaderCell>\n              <Table.HeaderCell><div className='small_table_data'>Город</div></Table.HeaderCell>\n              <Table.HeaderCell><div className='small_table_data'>Адрес</div></Table.HeaderCell>\n              <Table.HeaderCell><div className='small_table_data'>Телефон</div></Table.HeaderCell>\n            <Table.HeaderCell><div className='small_table_data'>Контактное лицо</div></Table.HeaderCell>\n              <Table.HeaderCell><div className='small_table_data'>Компания</div></Table.HeaderCell>\n              <Table.HeaderCell><div className='small_table_data'>Доп.инфо</div></Table.HeaderCell>\n              \n\n              \n            </Table.Row>\n          </Table.Header>\n          <Table.Body>\n                {\n                    this.props.store.upload_manifest.disp_template_list.map((el, index) => {\n                        return (\n                            <Table.Row \n                //className={row_className} \n                key={el.Key} \n                //onClick={this.tr_click.bind(this,index)}  \n                onDoubleClick={this.tr_double_click.bind(this, el)}\n              >\n              <Table.Cell><div className='small_table_data'>{el.label}</div></Table.Cell>\n              <Table.Cell><div className='small_table_data'>{el.City}</div></Table.Cell>\n              <Table.Cell><div className='small_table_data'>{el.Terminal ? (el.CurrentTerminal + \" (Cклад)\"):(el.Adress)}</div></Table.Cell>\n              <Table.Cell><div className='small_table_data'>{el.Phone}</div></Table.Cell>\n              <Table.Cell><div className='small_table_data'>{el.Person}</div></Table.Cell>\n              <Table.Cell><div className='small_table_data'>{el.Company}</div></Table.Cell>\n              <Table.Cell><div className='small_table_data'>{el.AddInfo}</div></Table.Cell>\n\n              </Table.Row>\n                        )\n                    })\n                }\n                 </Table.Body>\n            </Table>\n            <Button onClick={this.create_disp_template.bind(this)}>Создать шаблон</Button>\n            </div>\n        )\n    }\n};\n\nexport default connect(\n    state => ({\n        store: state\n    }),\n    dispatch => ({\n        set_selected_disp_template: (param) => { dispatch({ type: 'set_selected_disp_template', payload: param }) },\n        set_last_window: (param) => { dispatch({ type: 'set_last_window', payload: param }) },\n        set_selected_disp_template_Terminal: (param) => { dispatch({ type: 'set_selected_disp_template_Terminal', payload: param }) },\n        set_disp_template_terminal_list: (param) => { dispatch({ type: 'set_disp_template_terminal_list', payload: param }) },\n        set_selected_disp_template_CurrentTerminal: (param) => { dispatch({ type: 'set_selected_disp_template_CurrentTerminal', payload: param }) },\n        reset_selected_disp_template: (param) => { dispatch({ type: 'reset_selected_disp_template', payload: param }) },\n    })\n)(Screen);"]},"metadata":{},"sourceType":"module"}