{"ast":null,"code":"var _jsxFileName = \"/Users/elias/Documents/ek-lc-dev-1/ek-lc-dev/src/screen/setting.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { get_data } from './../common/common_modules';\nimport Select from 'react-select';\nimport { customStyles } from \"./../common/common_style\";\nimport { Button } from 'semantic-ui-react';\n\nclass Screen extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.clear_default_send = () => {\n      this.props.set_user_default_send('0');\n    };\n\n    this.clear_default_rec = () => {\n      this.props.set_user_default_rec('0');\n    };\n\n    this.save_changes_user_data = () => {\n      const data = {\n        userkey: this.props.store.login.userkey,\n        phone: this.props.store.login.phone,\n        email: this.props.store.login.email,\n        name: this.props.store.login.alias,\n        default_send: this.props.store.login.default_send,\n        default_rec: this.props.store.login.default_rec\n      };\n      get_data('edituserdata', data).then(result => {\n        this.props.save_changes_user_data(result);\n        this.props.modules.set_modal_show(true);\n        this.props.modules.set_modal_text(\"Данные успешно сохранены\");\n        this.props.modules.set_modal_header('Успешно');\n      }, err => {\n        console.log(\"err\");\n        console.log(err);\n      });\n    };\n\n    this.click_import_template_list = () => {\n      this.props.modules.set_active_window('import_template_list');\n      this.props.modules.set_last_window('setting');\n    };\n\n    this.click_disp_template_list = () => {\n      this.props.modules.set_active_window('disp_template_list');\n      this.props.modules.set_last_window('setting');\n    };\n\n    this.click_default_template_list = () => {\n      this.props.modules.set_active_window('default_template_list');\n      this.props.modules.set_last_window('setting');\n    };\n  }\n\n  render() {\n    document.onkeydown = function (event) {};\n\n    let default_send_template = {};\n    let default_rec_template = {};\n\n    if (this.props.store.login.default_send !== '0') {\n      default_send_template = this.props.store.upload_manifest.disp_template_list.find(el => el.Key === this.props.store.login.default_send);\n    }\n\n    if (this.props.store.login.default_rec !== '0') {\n      default_rec_template = this.props.store.upload_manifest.disp_template_list.find(el => el.Key === this.props.store.login.default_rec);\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"disp_Number\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"\\u041E\\u0441\\u043D\\u043E\\u0432\\u043D\\u044B\\u0435 \\u043D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0438 \", this.props.store.login.email !== this.props.store.login.original_data.email || this.props.store.login.alias !== this.props.store.login.original_data.username || this.props.store.login.default_send !== this.props.store.login.original_data.default_send || this.props.store.login.default_rec !== this.props.store.login.original_data.default_rec || this.props.store.login.phone !== this.props.store.login.original_data.phone ? React.createElement(Button, {\n      style: {\n        margin: '0 5px',\n        padding: '8px'\n      },\n      size: \"mini\",\n      onClick: this.save_changes_user_data.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C \\u0438\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u044F\") : React.createElement(Button, {\n      style: {\n        margin: '0 5px',\n        padding: '8px'\n      },\n      size: \"mini\",\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C \\u0438\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u044F\"))), React.createElement(\"div\", {\n      className: \"setting_general_data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"disp_data_label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"\\u041A\\u043E\\u0434 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F:\"), React.createElement(\"div\", {\n      className: \"setting_data_el\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, this.props.store.login.userkey), React.createElement(\"div\", {\n      className: \"disp_data_label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"\\u0418\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F:\"), React.createElement(\"div\", {\n      className: \"setting_data_el\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      maxLength: \"100\",\n      className: \"create_disp_data_input\",\n      onChange: e => this.props.set_user_name(e.target.value),\n      value: this.props.store.login.alias,\n      type: \"text\",\n      placeholder: \"\\u0432\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0438\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F...\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"disp_data_label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"E-mail:\"), React.createElement(\"div\", {\n      className: \"setting_data_el\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      maxLength: \"100\",\n      className: \"create_disp_data_input\",\n      onChange: e => this.props.set_user_email(e.target.value),\n      value: this.props.store.login.email,\n      type: \"text\",\n      placeholder: \"\\u0432\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 e-mail...\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"disp_data_label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\"), React.createElement(\"div\", {\n      className: \"setting_data_el\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      maxLength: \"11\",\n      className: \"create_disp_data_input\",\n      onChange: e => this.props.set_user_phone(e.target.value),\n      value: this.props.store.login.phone,\n      type: \"text\",\n      placeholder: \"\\u0432\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u043E\\u043C\\u0435\\u0440 \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\\u0430...\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"setting_general_data_template\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"disp_data_label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"\\u0428\\u0430\\u0431\\u043B\\u043E\\u043D \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u0435\\u043B\\u044F \\u043F\\u043E \\u0443\\u043C\\u043E\\u043B\\u0447\\u0430\\u043D\\u0438\\u044E\"), React.createElement(\"div\", {\n      className: \"setting_data_el\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(Select, {\n      options: this.props.store.upload_manifest.disp_template_list,\n      styles: customStyles,\n      value: default_send_template,\n      onChange: values => this.props.set_user_default_send(values.Key),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"setting_template_button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: this.clear_default_send.bind(this),\n      style: {\n        margin: '0 5px',\n        padding: '6px'\n      },\n      size: \"mini\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"X\")), React.createElement(\"div\", {\n      className: \"disp_data_label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"\\u0428\\u0430\\u0431\\u043B\\u043E\\u043D \\u043F\\u043E\\u043B\\u0443\\u0447\\u0430\\u0442\\u0435\\u043B\\u044F \\u043F\\u043E \\u0443\\u043C\\u043E\\u043B\\u0447\\u0430\\u043D\\u0438\\u044E\"), React.createElement(\"div\", {\n      className: \"setting_data_el\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(Select, {\n      options: this.props.store.upload_manifest.disp_template_list,\n      styles: customStyles,\n      value: default_rec_template,\n      onChange: values => this.props.set_user_default_rec(values.Key),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"setting_template_button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: this.clear_default_rec.bind(this),\n      style: {\n        margin: '0 5px',\n        padding: '6px'\n      },\n      size: \"mini\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"X\"))), React.createElement(\"div\", {\n      className: \"disp_Number\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"\\u041D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0438 \\u0448\\u0430\\u0431\\u043B\\u043E\\u043D\\u043E\\u0432\")), React.createElement(\"div\", {\n      className: \"setting_template_data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"disp_data_label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"\\u0428\\u0430\\u0431\\u043B\\u043E\\u043D\\u044B \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u0435\\u043B\\u0435\\u0439 \\u0438 \\u043F\\u043E\\u043B\\u0443\\u0447\\u0430\\u0442\\u0435\\u043B\\u0435\\u0439:\"), React.createElement(\"div\", {\n      className: \"setting_data_el\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, this.props.store.upload_manifest.disp_template_list.length), React.createElement(\"div\", {\n      className: \"setting_template_button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: this.click_disp_template_list.bind(this),\n      style: {\n        margin: '0 5px',\n        padding: '6px'\n      },\n      size: \"mini\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"))));\n  }\n\n}\n\n;\nexport default connect(state => ({\n  store: state\n}), dispatch => ({\n  set_user_email: param => {\n    dispatch({\n      type: 'set_user_email',\n      payload: param\n    });\n  },\n  set_user_phone: param => {\n    dispatch({\n      type: 'set_user_phone',\n      payload: param\n    });\n  },\n  set_user_name: param => {\n    dispatch({\n      type: 'set_user_name',\n      payload: param\n    });\n  },\n  set_user_default_send: param => {\n    dispatch({\n      type: 'set_user_default_send',\n      payload: param\n    });\n  },\n  set_user_default_rec: param => {\n    dispatch({\n      type: 'set_user_default_rec',\n      payload: param\n    });\n  },\n  save_changes_user_data: param => {\n    dispatch({\n      type: 'save_changes_user_data',\n      payload: param\n    });\n  }\n}))(Screen);","map":{"version":3,"sources":["/Users/elias/Documents/ek-lc-dev-1/ek-lc-dev/src/screen/setting.js"],"names":["React","connect","get_data","Select","customStyles","Button","Screen","Component","clear_default_send","props","set_user_default_send","clear_default_rec","set_user_default_rec","save_changes_user_data","data","userkey","store","login","phone","email","name","alias","default_send","default_rec","then","result","modules","set_modal_show","set_modal_text","set_modal_header","err","console","log","click_import_template_list","set_active_window","set_last_window","click_disp_template_list","click_default_template_list","render","document","onkeydown","event","default_send_template","default_rec_template","upload_manifest","disp_template_list","find","el","Key","original_data","username","margin","padding","bind","e","set_user_name","target","value","set_user_email","set_user_phone","values","length","state","dispatch","param","type","payload"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport { get_data } from './../common/common_modules'\nimport Select from 'react-select'\nimport { customStyles } from \"./../common/common_style\";\nimport { Button } from 'semantic-ui-react'\n\n\n\nclass Screen extends React.Component {\n\n\n  clear_default_send = () =>{\n    this.props.set_user_default_send('0')\n  }\n\n  clear_default_rec = () =>{\n    this.props.set_user_default_rec('0')\n  }\n\n  save_changes_user_data = () =>{\n    const data = {\n      userkey: this.props.store.login.userkey,\n      phone: this.props.store.login.phone,\n      email: this.props.store.login.email,\n      name: this.props.store.login.alias,\n      default_send: this.props.store.login.default_send,\n      default_rec: this.props.store.login.default_rec,\n\n    }\n\n    get_data('edituserdata', data).then(\n      (result) => {\n        this.props.save_changes_user_data(result)\n        this.props.modules.set_modal_show(true)\n        this.props.modules.set_modal_text(\"Данные успешно сохранены\")\n        this.props.modules.set_modal_header('Успешно')\n      },\n      (err) => { \n          console.log(\"err\")  \n          console.log(err) \n      }\n  );\n\n  }\n\n  click_import_template_list = () => {\n    this.props.modules.set_active_window('import_template_list')\n    this.props.modules.set_last_window('setting')\n  }\n\n  click_disp_template_list = () => {\n    this.props.modules.set_active_window('disp_template_list')\n    this.props.modules.set_last_window('setting')\n  }\n\n  click_default_template_list = () => {\n    this.props.modules.set_active_window('default_template_list')\n    this.props.modules.set_last_window('setting')\n  }\n\n  render() {\n    document.onkeydown = function (event) {}\n    let default_send_template = {}\n    let default_rec_template = {}\n\n    if (this.props.store.login.default_send !== '0') {\n      default_send_template = this.props.store.upload_manifest.disp_template_list.find(el=>el.Key === this.props.store.login.default_send)\n    }\n\n    if (this.props.store.login.default_rec !== '0') {\n      default_rec_template = this.props.store.upload_manifest.disp_template_list.find(el=>el.Key === this.props.store.login.default_rec)\n    }\n\n    return (\n\n      <div>\n                <div className=\"disp_Number\">\n                    <div>Основные настройки {this.props.store.login.email !== this.props.store.login.original_data.email \n        || this.props.store.login.alias !== this.props.store.login.original_data.username\n        || this.props.store.login.default_send !== this.props.store.login.original_data.default_send\n        || this.props.store.login.default_rec !== this.props.store.login.original_data.default_rec\n        || this.props.store.login.phone !== this.props.store.login.original_data.phone ? (\n          <Button style={{margin: '0 5px', padding: '8px'}} size='mini' onClick={this.save_changes_user_data.bind(this)}>Сохранить изменения</Button>\n        ):(\n          <Button style={{margin: '0 5px', padding: '8px'}} size='mini' disabled>Сохранить изменения</Button>\n        )}</div>\n                    \n                </div>\n        <div className=\"setting_general_data\">\n          <div className=\"disp_data_label\">Код пользователя:</div>\n          <div className=\"setting_data_el\">{this.props.store.login.userkey}</div>\n          <div className=\"disp_data_label\">Имя пользователя:</div>\n          <div className=\"setting_data_el\"><input maxLength=\"100\" className=\"create_disp_data_input\" onChange={e => this.props.set_user_name(e.target.value)} value={this.props.store.login.alias} type=\"text\" placeholder=\"введите имя пользователя...\" /></div>\n          <div className=\"disp_data_label\">E-mail:</div>\n          <div className=\"setting_data_el\"><input maxLength=\"100\" className=\"create_disp_data_input\" onChange={e => this.props.set_user_email(e.target.value)} value={this.props.store.login.email} type=\"text\" placeholder=\"введите e-mail...\" /></div>\n          <div className=\"disp_data_label\">Телефон</div>\n          <div className=\"setting_data_el\"><input maxLength=\"11\" className=\"create_disp_data_input\" onChange={e => this.props.set_user_phone(e.target.value)} value={this.props.store.login.phone} type=\"text\"  placeholder=\"введите номер телефона...\" /></div>\n          </div>\n          <div className=\"setting_general_data_template\">\n          <div className=\"disp_data_label\">Шаблон отправителя по умолчанию</div>\n          <div className=\"setting_data_el\">\n          <Select\n                          options={this.props.store.upload_manifest.disp_template_list}\n                          styles={customStyles}\n                          value={default_send_template}\n                          onChange={(values) => this.props.set_user_default_send(values.Key)}\n                      /> \n                      \n          </div>\n          <div className=\"setting_template_button\"><Button onClick={this.clear_default_send.bind(this)} style={{margin: '0 5px', padding: '6px'}} size='mini'>X</Button></div>\n          <div className=\"disp_data_label\">Шаблон получателя по умолчанию</div>\n          <div className=\"setting_data_el\">\n          <Select\n                          options={this.props.store.upload_manifest.disp_template_list}\n                          styles={customStyles}\n                          value={default_rec_template}\n                          onChange={(values) => this.props.set_user_default_rec(values.Key)}\n                      /> \n                      \n          </div>\n          <div className=\"setting_template_button\"><Button onClick={this.clear_default_rec.bind(this)} style={{margin: '0 5px', padding: '6px'}} size='mini'>X</Button></div>\n          </div>\n        \n        <div className=\"disp_Number\">\n                    <div>Настройки шаблонов</div>\n                </div>\n        <div className=\"setting_template_data\">\n        <div className=\"disp_data_label\">Шаблоны отправителей и получателей:</div>\n        <div className=\"setting_data_el\">{this.props.store.upload_manifest.disp_template_list.length}</div>\n          <div className=\"setting_template_button\"><Button onClick={this.click_disp_template_list.bind(this)} style={{margin: '0 5px', padding: '6px'}} size='mini'>Редактировать</Button></div>\n        {/* <div className=\"disp_data_label\">Шаблоны импорта:</div>\n        <div className=\"disp_data_el\">{this.props.store.upload_manifest.import_template_list.length}</div>\n        <div><Button onClick={this.click_import_template_list.bind(this)} style={{margin: '0 5px', padding: '6px'}} size='mini'>Редактировать</Button></div>\n        <div className=\"disp_data_label\">Шаблоны значений по умолчанию:</div>\n        <div className=\"disp_data_el\">{this.props.store.upload_manifest.default_template_list.length}</div>\n        <div><Button onClick={this.click_default_template_list.bind(this)} style={{margin: '0 5px', padding: '6px'}} size='mini'>Редактировать</Button></div> */}\n          </div>\n        \n        \n\n       \n      </div>\n\n\n\n    );\n  }\n};\n\nexport default connect(\n  (state) => ({ store: state }),\n  dispatch => ({\n    \n    set_user_email: (param) => { dispatch({ type: 'set_user_email', payload: param }) },\n    set_user_phone: (param) => { dispatch({ type: 'set_user_phone', payload: param }) },\n    set_user_name: (param) => { dispatch({ type: 'set_user_name', payload: param }) },\n    set_user_default_send: (param) => { dispatch({ type: 'set_user_default_send', payload: param }) },\n    set_user_default_rec: (param) => { dispatch({ type: 'set_user_default_rec', payload: param }) },\n    save_changes_user_data: (param) => { dispatch({ type: 'save_changes_user_data', payload: param }) },\n    \n  })\n)(Screen);"]},"metadata":{},"sourceType":"module"}