{"ast":null,"code":"var _jsxFileName = \"/Users/elias/Documents/ek-lc-dev-1/ek-lc-dev/src/screen/manifest.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { Header, Modal, Table, Button } from 'semantic-ui-react';\nimport { get_data } from './../common/common_modules';\n\nclass Screen extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.get_selected = () => {\n      const getmanifest_data = {\n        userkey: this.props.store.login.userkey,\n        num: this.props.store.manifest.data.num,\n        dispatches: this.props.store.manifest.data.dispatches.filter(el => {\n          return el.selected;\n        }).map(el => {\n          return el.num;\n        })\n      };\n      console.log(getmanifest_data);\n      get_data('getmanifest', getmanifest_data).then(result => {\n        const data = {\n          userkey: this.props.store.login.userkey,\n          num: this.props.store.manifest.data.num\n        };\n        get_data('manifestenroute', data).then(result => {\n          console.log(result);\n          this.props.set_data_manifest(result);\n          this.props.set_action_manifest(\"get\");\n        }, err => {\n          console.log(err);\n        }); // this.props.set_list_storage(result);\n        // this.props.set_active_window(\"storage\");\n      }, err => {\n        console.log(err);\n      });\n    };\n\n    this.check = num => {\n      this.props.check_manifest_disp(num);\n    };\n  }\n\n  render() {\n    document.onkeydown = function (event) {};\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"disp_Number\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"\\u041C\\u0430\\u043D\\u0438\\u0444\\u0435\\u0441\\u0442 \\u0432\\u0445\\u043E\\u0434\\u044F\\u0449\\u0438\\u0439 \", React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, this.props.store.manifest.data.num))), React.createElement(\"div\", {\n      className: \"disp_customer_data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"disp_data_label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"\\u0421\\u043A\\u043B\\u0430\\u0434 \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u044F:\"), React.createElement(\"div\", {\n      className: \"disp_data_el\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, this.props.store.manifest.data.sender), React.createElement(\"div\", {\n      className: \"disp_data_label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"\\u0414\\u0430\\u0442\\u0430 \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u044F:\"), React.createElement(\"div\", {\n      className: \"disp_data_el\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, this.props.store.manifest.data.date), React.createElement(\"div\", {\n      className: \"disp_data_label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"\\u041F\\u0435\\u0440\\u0435\\u0432\\u043E\\u0437\\u0447\\u0438\\u043A:\"), React.createElement(\"div\", {\n      className: \"disp_data_el\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, this.props.store.manifest.data.carrier)), this.props.store.manifest.data.dispatches.length !== 0 ? React.createElement(\"div\", {\n      className: \"disp_cargo_table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"disp_cargo_table_header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"\\u041D\\u0430\\u043A\\u043B\\u0430\\u0434\\u043D\\u044B\\u0435 \\u043F\\u043E \\u043C\\u0430\\u043D\\u0438\\u0444\\u0435\\u0441\\u0442\\u0443:\"), React.createElement(\"div\", {\n      className: \"disp_cargo_table_data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(Table, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(Table.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(Table.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(Table.HeaderCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"\\u041F\\u0440\\u0438\\u043D\\u0438\\u044F\\u0442\\u043E\"), React.createElement(Table.HeaderCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"\\u041D\\u043E\\u043C\\u0435\\u0440\"), React.createElement(Table.HeaderCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"\\u0417\\u0430\\u043A\\u0430\\u0437\\u0447\\u0438\\u043A\"), React.createElement(Table.HeaderCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u043C\\u0435\\u0441\\u0442\"), React.createElement(Table.HeaderCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"\\u0412\\u0435\\u0441\"))), React.createElement(Table.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, this.props.store.manifest.data.dispatches.map((disp, index) => React.createElement(Table.Row, {\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(Table.Cell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"checkbox\",\n      checked: disp.selected,\n      onChange: this.check.bind(this, disp.num),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    })), React.createElement(Table.Cell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, disp.num), React.createElement(Table.Cell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, disp.customer), React.createElement(Table.Cell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, disp.total), React.createElement(Table.Cell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, disp.weight))))), React.createElement(\"div\", {\n      className: \"disp_cargo_table_header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"\\u041F\\u0440\\u0438\\u043D\\u044F\\u0442\\u043E \\u043F\\u043E \\u043C\\u0430\\u043D\\u0438\\u0444\\u0435\\u0441\\u0442\\u0443:\"), React.createElement(\"div\", {\n      className: \"disp_data_el\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"\\u041D\\u0430\\u043A\\u043B\\u0430\\u0434\\u043D\\u044B\\u0445: \", this.props.store.manifest.data.dispatches.filter(el => {\n      return el.selected;\n    }).length, \" \\u0438\\u0437 \", this.props.store.manifest.data.dispatches.length, \" (\\u043C\\u0435\\u0441\\u0442: \", this.props.store.manifest.data.dispatches.filter(el => {\n      return el.selected;\n    }).reduce((sum, el) => {\n      return sum + parseInt(el.total);\n    }, 0), \" \\u0438\\u0437 \", this.props.store.manifest.data.dispatches.reduce((sum, el) => {\n      return sum + parseInt(el.total);\n    }, 0), \")\"), React.createElement(\"button\", {\n      onClick: this.get_selected.bind(this),\n      className: \"send_pod\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"\\u041F\\u0440\\u0438\\u043D\\u044F\\u0442\\u044C \\u043D\\u0430 \\u0441\\u043A\\u043B\\u0430\\u0434 \\u0438 \\u0437\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"))) : React.createElement(\"div\", {\n      className: \"manifest_complited\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"\\u041C\\u0430\\u043D\\u0438\\u0444\\u0435\\u0441\\u0442 \\u043F\\u0440\\u0438\\u043D\\u044F\\u0442 \\u043F\\u043E\\u043B\\u043D\\u043E\\u0441\\u0442\\u044C\\u044E\"));\n  }\n\n}\n\nexport default connect(state => ({\n  store: state\n}), dispatch => ({\n  set_list_storage: param => {\n    dispatch({\n      type: 'set_list_storage',\n      payload: param\n    });\n  },\n  set_active_window: param => {\n    dispatch({\n      type: 'set_active_window',\n      payload: param\n    });\n  },\n  check_manifest_disp: param => {\n    dispatch({\n      type: 'check_manifest_disp',\n      payload: param\n    });\n  },\n  set_data_manifest: param => {\n    dispatch({\n      type: 'set_data_manifest',\n      payload: param\n    });\n  },\n  set_action_manifest: param => {\n    dispatch({\n      type: 'set_action_manifest',\n      payload: param\n    });\n  }\n}))(Screen);","map":{"version":3,"sources":["/Users/elias/Documents/ek-lc-dev-1/ek-lc-dev/src/screen/manifest.js"],"names":["React","connect","Header","Modal","Table","Button","get_data","Screen","Component","get_selected","getmanifest_data","userkey","props","store","login","num","manifest","data","dispatches","filter","el","selected","map","console","log","then","result","set_data_manifest","set_action_manifest","err","check","check_manifest_disp","render","document","onkeydown","event","sender","date","carrier","length","disp","index","bind","customer","total","weight","reduce","sum","parseInt","state","dispatch","set_list_storage","param","type","payload","set_active_window"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport { Header, Modal, Table, Button } from 'semantic-ui-react'\nimport { get_data } from './../common/common_modules'\n\n\n\nclass Screen extends React.Component {\n\n    get_selected = () => {\n        \n        const getmanifest_data = { \n            userkey: this.props.store.login.userkey,\n            num: this.props.store.manifest.data.num,\n            dispatches: this.props.store.manifest.data.dispatches.filter((el)=>{return el.selected}).map((el)=>{return el.num})\n        };\n\n        console.log(getmanifest_data)\n\n        get_data('getmanifest', getmanifest_data).then(\n            (result) => {\n                \n                const data = {\n                    userkey: this.props.store.login.userkey,\n                    num: this.props.store.manifest.data.num\n                  };\n              \n                  get_data('manifestenroute', data).then(\n                    (result) => {\n                      console.log(result)\n                      this.props.set_data_manifest(result);\n                      this.props.set_action_manifest(\"get\");\n                    },\n                    (err) => { console.log(err) }\n                  );\n\n                // this.props.set_list_storage(result);\n                // this.props.set_active_window(\"storage\");\n            },\n            (err) => { console.log(err) }\n        );\n    }\n\n    check = (num) => {\n        this.props.check_manifest_disp(num)\n    }\n    render() {\n\n        document.onkeydown = function (event) {}\n        return (\n            <div>\n                <div className=\"disp_Number\">\n                    <div>Манифест входящий <b>{this.props.store.manifest.data.num}</b></div>\n                </div>\n                <div className=\"disp_customer_data\">\n                    <div className=\"disp_data_label\">Склад отправления:</div>\n                    <div className=\"disp_data_el\">{this.props.store.manifest.data.sender}</div>\n                    <div className=\"disp_data_label\">Дата отправления:</div>\n                    <div className=\"disp_data_el\">{this.props.store.manifest.data.date}</div>\n                    <div className=\"disp_data_label\">Перевозчик:</div>\n                    <div className=\"disp_data_el\">{this.props.store.manifest.data.carrier}</div>\n                </div>\n\n                {this.props.store.manifest.data.dispatches.length !== 0 ? (<div className=\"disp_cargo_table\">\n                    <div className=\"disp_cargo_table_header\">Накладные по манифесту:</div>\n                    <div className=\"disp_cargo_table_data\">\n                        <Table>\n\n                            <Table.Header>\n                                <Table.Row >\n                                    <Table.HeaderCell>Приниято</Table.HeaderCell>\n                                    <Table.HeaderCell>Номер</Table.HeaderCell>\n                                    <Table.HeaderCell>Заказчик</Table.HeaderCell>\n                                    <Table.HeaderCell>Количество мест</Table.HeaderCell>\n                                    <Table.HeaderCell>Вес</Table.HeaderCell>\n\n\n                                </Table.Row>\n                            </Table.Header>\n                            <Table.Body>\n                                {this.props.store.manifest.data.dispatches.map((disp, index) =>\n                                    <Table.Row key={index} >\n                                        <Table.Cell><input type=\"checkbox\" checked={disp.selected} onChange={this.check.bind(this, disp.num)}></input></Table.Cell>\n                                        <Table.Cell>{disp.num}</Table.Cell>\n                                        <Table.Cell>{disp.customer}</Table.Cell>\n                                        <Table.Cell>{disp.total}</Table.Cell>\n                                        <Table.Cell>{disp.weight}</Table.Cell>\n\n                                    </Table.Row>)}\n                            </Table.Body>\n                        </Table>\n                        <div className=\"disp_cargo_table_header\">Принято по манифесту:</div>\n                <div className=\"disp_data_el\">Накладных: {this.props.store.manifest.data.dispatches.filter((el) => { return el.selected }).length} из {this.props.store.manifest.data.dispatches.length} (мест: {this.props.store.manifest.data.dispatches.filter((el) => { return el.selected }).reduce((sum, el) => { return sum + parseInt(el.total) }, 0)} из {this.props.store.manifest.data.dispatches.reduce((sum, el) => { return sum + parseInt(el.total) }, 0)})</div>\n                <button onClick={this.get_selected.bind(this)} className=\"send_pod\">Принять на склад и закрыть</button>\n\n                    </div>\n                </div>):(<div className=\"manifest_complited\">Манифест принят полностью</div>)}\n                \n\n                \n\n            </div>\n        )\n    }\n}\n\nexport default connect(\n    state => ({\n        store: state\n    }),\n    dispatch => ({\n        set_list_storage: (param) => { dispatch({ type: 'set_list_storage', payload: param }) },\n        set_active_window: (param) => { dispatch({ type: 'set_active_window', payload: param }) },\n        check_manifest_disp: (param) => { dispatch({ type: 'check_manifest_disp', payload: param }) },\n        set_data_manifest: (param) => { dispatch({ type: 'set_data_manifest', payload: param }) },\n        set_action_manifest: (param) => { dispatch({ type: 'set_action_manifest', payload: param }) },\n    })\n)(Screen);"]},"metadata":{},"sourceType":"module"}